{"version":3,"sources":["firebase.js","GlobalStyle.js","layouts/FeedSort.js","components/SidebarAboutProject.js","components/SidebarMoreResources.js","layouts/Sidebar.js","components/MediaPreview.js","hooks/useWindowWidth.js","components/LinkPreview.js","utils.js","components/PreviewContent.js","PostContext.js","components/VoteContainer.js","layouts/Feed.js","components/FeedCreatePost.js","layouts/FeedContainer.js","components/CreatePost.js","pages/Submit.js","pages/Home.js","components/DisplayComments.js","hooks/useSearchBarPosition.js","layouts/Nav.js","components/PostContent.js","pages/Comments.js","components/Modal.js","hooks/useInitialFocus.js","components/SignUp.js","components/LogIn.js","pages/NotFound404.js","App.js","theme.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","createUserAccount","username","email","password","setUser","a","createAndGetUser","auth","createUserWithEmailAndPassword","catch","err","console","log","code","message","signInWithEmailAndPassword","currentUser","userInfo","updateProfile","displayName","firestore","collection","doc","window","user","uid","set","posts","postVotes","commentVotes","then","isSignedIn","isAnonymous","logInExistingUser","setModalContent","setIsAuthErrorShown","get","res","data","roundedGreyBorder","props","css","GlobalStyle","createGlobalStyle","Container","styled","div","HiddenInput","input","Label","label","sortby","value","theme","colors","blue","grey","LabelDiv","NewLabel","OldLabel","TopLabel","SVG","svg","TopSVG","NewSVG","OldSVG","NewContainer","OldContainer","TopContainer","FeedSort","sortPosts","sortBy","onChange","e","target","as","BsBarChartFill","type","name","GiSevenPointedStar","RiTimeLine","AboutContainer","AboutProjectDiv","colorlightGray","Description","p","colorblue","CreationDate","Spacer","height","SidebarAboutProject","href","rel","GiCakeSlice","SidebarMoreResources","Sidebar","ImageContainer","Image","img","MediaTitle","h2","Video","iframe","VideoContainer","LinkContainer","MediaPreview","title","media","shortenedUrl","url","replace","split","mediaType","src","alt","Fragment","width","padding-top","scrolling","frameborder","allow","allowfullScreen","useWindowWidth","setWidth","useEffect","handleResize","innerWidth","addEventListener","removeEventListener","PreviewImage","PreviewImageFallback","LinkTitle","LinkIcon","GoToIcon","Link","LinkPreview","preview","useState","setImg","undefined","onClick","stopPropagation","open","FaExternalLinkAlt","RiLinksLine","displayPreview","SORT_OPTIONS","TIME_ASC","column","direction","column2","direction2","TIME_DESC","VOTE_ASC","Comment","commentInput","timestamp","Date","now","points","replies","id","uuidv4","depth","deleted","ContentContainer","InfoContainer","Title","ActionContainer","ActionButton","button","Pinned","uservote","red","lightGray","Share","CommentSVG","PreviewContent","pinned","post","commentCount","object","counter","count","i","length","countReplies","formatDistance","includeSeconds","postType","postMedia","postLink","linkPreview","FaCommentAlt","PostContext","createContext","Vote","font","size","xs","userVote","VoteContainer","vote","useContext","castPostVote","setUserVote","hasOwnProperty","GoArrowUp","GoArrowDown","PreviewContainer","BackToTopBtn","lightBlue","Feed","children","viewPostComments","history","useHistory","map","index","toLowerCase","key","push","handleClick","scrollTo","top","behavior","SVGprofile","CreatePostInput","FeedCreatePost","FaUserCircle","placeholder","onFocus","MainContainer","SidebarContainer","FeedContainer","displayFeedSort","FormContainer","form","TitleInput","TextInput","textarea","CancelBtn","SubmitBtn","MediaInput","LinkInput","CreatePost","onSubmit","onCancel","setPostText","setPostLink","setPostMedia","setTitle","postText","inputShown","preventDefault","match","timeoutT","Promise","resolve","reject","timer","timeout","onerror","onabort","clearTimeout","onload","setTimeout","testImage","includes","getYoutubeId","validateMediaLink","alert","required","currentTarget","maxLength","CreatePostContainer","CreateAPost","h3","WhiteLine","InputShownSelectContainer","InputSelectItem","PostP","inputshown","gray","MediaP","LinkP","BlueLine","InputTypeSVG","Submit","setInputShown","setPosts","postID","getPreviewImage","axios","image","error","submitPost","update","postProps","mediaProps","linkProps","TiDocumentText","BsImageFill","cancel","confirm","Home","Card","val","toString","CommentInfo","CommentBody","BtnContainer","Btn","ReplyInputContainer","ReplyTextAreaContainer","DisplayComments","comment","setPostData","commentSortMethod","replyInput","setReplyInput","isReplyContainerOpen","setIsReplyContainerOpen","submitReply","newComment","withNewReply","insertReply","targetId","replyToAdd","forEach","obj","castCommentVote","newVoteCount","updated","withNewCommentVote","newUserVotes","VoteArrowContainer","SVGarrow","withDeleted","setCommentAsDeleted","deleteComment","CommentTextArea","CommentBtn","sort","reply","family","Circle","Search","LoginBtn","SignInBtn","SearchResultsDropDown","left","ResultCard","veryLightGray","ResultTitle","m","ResultContent","ProfileContainer","ProfileDropdown","SVGlogin","ProfileItem","action","Nav","openModal","closeModal","searchInput","setSearchInput","searchBarRef","useRef","ref","dep","searchBarBottom","setSearchBarBottom","searchBarWidth","setSearchBarWidth","searchBarLeft","setSearchBarLeft","useLayoutEffect","updatePostion","right","current","getBoundingClientRect","bottom","useSearchBarPosition","areSearchResultsOpen","setAreSearchResultsOpen","searchResults","setSearchResults","isProfileDropdownOpen","setIsProfileDropdownOpen","windowWidth","setWindowWidth","handleProfileClick","signOut","to","search","results","filter","indexOf","handleSearchInput","onMouseLeave","postId","viewSearchResult","BsFillPersonFill","IoIosCreate","FiLogIn","CommentAction","Delete","Body","CommentInputContainer","CommentAsDisplayName","CommentTextAreaContainer","SortByContainer","CommentContainer","LogInPrompt","Prompt","LoginSigninBtnContainer","SortOptionsSelect","SortP","SortSVG","SortOptionsList","SortOption","PostContent","setCommentInput","setCommentSortMethod","areSortOptionsVisible","setAreSortOptionsVisible","commentSortMethods","b","new","old","withPostDeleted","deletePost","TiArrowSortedDown","tempPost","Comments","postData","currentPost","useParams","Background","Foreground","Art","Content","CloseContainer","Close","Modal","document","body","style","overflow","IoMdClose","useInitialFocus","focus","WordsContainer","Input","UserNameInput","PasswordInput","EmailInput","SignUpBtn","s","P1","P2","InvalidInputNotification","NotificationSpacer","SignUp","showLogIn","setUsername","setPassword","setEmail","isUsernameUnique","setIsUsernameUnique","vale","onBlur","exists","minLength","Form","LogIn","showSignUp","isAuthErrorShown","resetAuthError","FourOhFour","h1","PageNotFound","DoesntExist","NotFound404","backgroundBlue","App","users","modalContent","setSortBy","newPosts","newPostVotes","subscribe","orderBy","querySnapshot","unshift","onAuthStateChanged","Provider","event","homeOrCommentsFlag","updatedPostData","basename","exact","path","component","notFound404","black","veryLightGrey","lightGrey","l","Theme","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ec47100d.chunk.js","sourcesContent":["import firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport 'firebase/auth';\n\nconst firebaseConfig = {\n\tapiKey: 'AIzaSyBa7AHjUtlq9nXoHJl6VYyA6B__Z0iiawU',\n\tauthDomain: 'front-page-of-the-front-page.firebaseapp.com',\n\tdatabaseURL: 'https://front-page-of-the-front-page.firebaseio.com',\n\tprojectId: 'front-page-of-the-front-page',\n\tstorageBucket: 'front-page-of-the-front-page.appspot.com',\n\tmessagingSenderId: '739647364485',\n\tappId: '1:739647364485:web:f9ae2fb071cb9faafd38ec',\n\tmeasurementId: 'G-JBZ3EG1M29',\n};\n\nfirebase.initializeApp(firebaseConfig);\n\nexport default firebase;\n\nexport const createUserAccount = async (username, email, password, setUser) => {\n\t//create user, sign in and get uid\n\tconst createAndGetUser = async () => {\n\t\ttry {\n\t\t\tawait firebase\n\t\t\t\t.auth()\n\t\t\t\t.createUserWithEmailAndPassword(email, password)\n\t\t\t\t.catch((err) => console.log(err.code, err.message));\n\t\t\tawait firebase\n\t\t\t\t.auth()\n\t\t\t\t.signInWithEmailAndPassword(email, password)\n\t\t\t\t.catch((err) => console.log(err.code, err.message));\n\t\t} catch (err) {\n\t\t\tconsole.log(err);\n\t\t}\n\t\treturn firebase.auth().currentUser;\n\t};\n\n\t// update display name - will completed remove this later\n\tconst userInfo = await createAndGetUser();\n\tawait userInfo\n\t\t.updateProfile({\n\t\t\tdisplayName: username,\n\t\t})\n\t\t.catch((err) => console.log(err));\n\n\t//create user doc in firebase and update state object\n\tawait firebase\n\t\t.firestore()\n\t\t.collection('users')\n\t\t.doc(window.user.uid)\n\t\t.set({\n\t\t\tusername,\n\t\t\tuid: window.user.uid,\n\t\t\temail,\n\t\t\tposts: [],\n\t\t\tpostVotes: {},\n\t\t\tcommentVotes: {},\n\t\t})\n\t\t.then(() => {\n\t\t\tsetUser({\n\t\t\t\temail: window.user.email,\n\t\t\t\tusername,\n\t\t\t\tuid: window.user.uid,\n\t\t\t\tisSignedIn: true,\n\t\t\t\tisAnonymous: false,\n\t\t\t\tposts: [],\n\t\t\t\tpostVotes: {},\n\t\t\t\tcommentVotes: {},\n\t\t\t});\n\t\t})\n\t\t.catch((err) => console.log(err));\n\n\t//store username\n\tfirebase\n\t\t.firestore()\n\t\t.collection('usernames')\n\t\t.doc(username)\n\t\t.set({\n\t\t\tusername,\n\t\t})\n\t\t.catch((err) => console.log(err));\n};\n\n//login, save userObj to state\nexport const logInExistingUser = async (\n\temail,\n\tpassword,\n\tsetUser,\n\tuser,\n\tsetModalContent,\n\tsetIsAuthErrorShown\n) => {\n\tlet data;\n\tconst loggedIn = await firebase\n\t\t.auth()\n\t\t.signInWithEmailAndPassword(email, password)\n\t\t.then(() => true)\n\t\t.catch((err) => {\n\t\t\tconsole.log(err.code, err.message);\n\t\t\treturn false;\n\t\t});\n\tif (loggedIn) {\n\t\tawait firebase\n\t\t\t.firestore()\n\t\t\t.collection('users')\n\t\t\t.doc(window.user.uid)\n\t\t\t.get()\n\t\t\t.then((res) => {\n\t\t\t\tdata = res.data();\n\t\t\t});\n\t\tawait setUser({\n\t\t\temail,\n\t\t\tuid: data.uid,\n\t\t\tusername: data.username,\n\t\t\tisSignedIn: true,\n\t\t\tisAnonymous: false,\n\t\t\tpostVotes: data.postVotes,\n\t\t\tcommentVotes: data.commentVotes,\n\t\t\tposts: data.posts,\n\t\t});\n\t} else {\n\t\tsetIsAuthErrorShown(true);\n\t\tsetModalContent('login');\n\t}\n};\n\nexport const LINKPREVIEW_API_KEY = '9e9b0ecbf81675d816ae8481e5c3a3e9';\n","import { createGlobalStyle, css } from 'styled-components';\n\nexport const roundedGreyBorder = (props) => css`\n\tbackground: white;\n\tborder: 1px solid lightgray;\n\tborder-radius: 4px;\n`;\n\nexport const GlobalStyle = createGlobalStyle`\n\nbody, h1, h2, h3, h4, h5, h6, textarea {\n    font-family: \"IBM Plex Sans\", sans-serif;\n\n}\n\nbutton {\n    width: auto;\n\theight: auto;\n\tborder-radius: 4px;\n\tpadding: 4px 22px 4px 22px;\n\tfont-size: 12px;\n\ttext-align: center;\n\ttext-transform: uppercase;\n\tmargin: 0 4px;\n\tcursor: pointer;\n\n\ninput:not([type]), input[type=\"text\"] {\n\theight: 36px;\n\twidth: 100%;\n\tborder-radius: 4px;\n\tfont-size: 16px;\n\ttext-indent: 10px;\n\toutline: none;\n\tborder: none;\n}\n\n}\n\n`;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport styled from 'styled-components';\nimport { roundedGreyBorder } from '../GlobalStyle';\nimport { GiSevenPointedStar } from 'react-icons/gi';\nimport { BsBarChartFill } from 'react-icons/bs';\nimport { RiTimeLine } from 'react-icons/ri';\n\nexport const Container = styled.div`\n\theight: 54px;\n\t${roundedGreyBorder}\n\tmargin-bottom: 18px;\n`;\n\nconst HiddenInput = styled.input`\n\tdisplay: none;\n`;\n\nconst Label = styled.label`\n\tpadding-right: 12px;\n\tcursor: pointer;\n\tcolor: ${(props) =>\n\t\tprops.sortby === props.value\n\t\t\t? props.theme.colors.blue\n\t\t\t: props.theme.colors.grey};\n`;\n\nconst LabelDiv = styled.div`\n\tpadding: 16px;\n`;\n\nconst NewLabel = styled(Label)``;\nconst OldLabel = styled(Label)``;\nconst TopLabel = styled(Label)``;\n\nconst SVG = styled.svg`\n\tmargin-right: 2px;\n\tpadding-top: 2px;\n\tposition: relative;\n\ttop: 2px;\n\tright: 0;\n\tcursor: pointer;\n\tcolor: ${(props) =>\n\t\tprops.sortby === props.value\n\t\t\t? props.theme.colors.blue\n\t\t\t: props.theme.colors.grey};\n`;\n\nconst TopSVG = styled(SVG)``;\nconst NewSVG = styled(SVG)``;\nconst OldSVG = styled(SVG)``;\n\nconst NewContainer = styled.div`\n\tdisplay: inline;\n\t&&:hover {\n\t\t${NewSVG} {\n\t\t\tcolor: ${(props) => props.theme.colors.blue};\n\t\t}\n\t\t${NewLabel} {\n\t\t\tcolor: ${(props) => props.theme.colors.blue};\n\t\t}\n\t}\n`;\nconst OldContainer = styled.div`\n\tdisplay: inline;\n\t&&:hover {\n\t\t${OldSVG} {\n\t\t\tcolor: ${(props) => props.theme.colors.blue};\n\t\t}\n\t\t${OldLabel} {\n\t\t\tcolor: ${(props) => props.theme.colors.blue};\n\t\t}\n\t}\n`;\nconst TopContainer = styled.div`\n\tdisplay: inline;\n\t&&:hover {\n\t\t${TopSVG} {\n\t\t\tcolor: ${(props) => props.theme.colors.blue};\n\t\t}\n\t\t${TopLabel} {\n\t\t\tcolor: ${(props) => props.theme.colors.blue};\n\t\t}\n\t}\n`;\n\nexport default function FeedSort({ sortPosts, sortBy }) {\n\treturn (\n\t\t<Container>\n\t\t\t<LabelDiv onChange={(e) => sortPosts(e.target.value)}>\n\t\t\t\t<TopContainer value=\"VOTE_ASC\" sortby={sortBy}>\n\t\t\t\t\t<TopSVG\n\t\t\t\t\t\tas={BsBarChartFill}\n\t\t\t\t\t\tsortby={sortBy}\n\t\t\t\t\t\tvalue=\"VOTE_ASC\"\n\t\t\t\t\t/>\n\t\t\t\t\t<TopLabel sortby={sortBy} value=\"VOTE_ASC\">\n\t\t\t\t\t\tTop\n\t\t\t\t\t\t<HiddenInput\n\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\tname=\"sort\"\n\t\t\t\t\t\t\tvalue=\"VOTE_ASC\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</TopLabel>\n\t\t\t\t</TopContainer>\n\n\t\t\t\t<NewContainer value=\"TIME_ASC\" sortby={sortBy}>\n\t\t\t\t\t<NewSVG\n\t\t\t\t\t\tas={GiSevenPointedStar}\n\t\t\t\t\t\tsortby={sortBy}\n\t\t\t\t\t\tvalue=\"TIME_ASC\"\n\t\t\t\t\t/>\n\t\t\t\t\t<NewLabel sortby={sortBy} value=\"TIME_ASC\">\n\t\t\t\t\t\tNew\n\t\t\t\t\t\t<HiddenInput\n\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\tname=\"sort\"\n\t\t\t\t\t\t\tvalue=\"TIME_ASC\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</NewLabel>\n\t\t\t\t</NewContainer>\n\n\t\t\t\t<OldContainer value=\"TIME_DESC\" sortby={sortBy}>\n\t\t\t\t\t<OldSVG as={RiTimeLine} sortby={sortBy} value=\"TIME_DESC\" />\n\t\t\t\t\t<OldLabel sortby={sortBy} value=\"TIME_DESC\">\n\t\t\t\t\t\tOld\n\t\t\t\t\t\t<HiddenInput\n\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\tname=\"sort\"\n\t\t\t\t\t\t\tvalue=\"TIME_DESC\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</OldLabel>\n\t\t\t\t</OldContainer>\n\t\t\t</LabelDiv>\n\t\t</Container>\n\t);\n}\n\nFeedSort.propTypes = {\n\tsortBy: PropTypes.any,\n\tsortPosts: PropTypes.func,\n};\n","import React from 'react';\nimport { GiCakeSlice } from 'react-icons/gi';\nimport styled from 'styled-components';\nimport { roundedGreyBorder } from '../GlobalStyle';\n// import { PostContext } from './PostContext';\n\nexport const AboutContainer = styled.div`\n\tbackground: white;\n\t${roundedGreyBorder};\n`;\n\nexport const AboutProjectDiv = styled.div`\n\tbackground: ${(props) => props.theme.colorlightGray};\n\tborder-top-right-radius: 4px;\n\tborder-top-left-radius: 4px;\n\n\t&& > p {\n\t\tpadding: 12px;\n\t}\n`;\n\nexport const Description = styled.p`\n\tpadding: 0 12px 12px 12px;\n\tcolor: black;\n\tfont-size: 13px;\n\tline-height: 1.4em;\n\n\t&& > a {\n\t\tcolor: ${(props) => props.theme.colorblue};\n\t}\n`;\n\nexport const CreationDate = styled.div`\n\tdisplay: inline;\n\tpadding: 12px 12px 0 12px;\n\t&& > p {\n\t\tdisplay: inline;\n\t}\n`;\n\nexport const SVG = styled.svg`\n\ttransform: scaleX(-1);\n`;\n\nexport const Spacer = styled.div`\n\theight: ${(props) => props.height + 'px'};\n`;\n\nexport default function SidebarAboutProject() {\n\t// const {listOfUsernames} = useContext(PostContext)\n\n\treturn (\n\t\t<AboutContainer>\n\t\t\t<AboutProjectDiv>\n\t\t\t\t<p>About Project</p>\n\t\t\t</AboutProjectDiv>\n\t\t\t<Spacer height={12} />\n\t\t\t<Description>\n\t\t\t\tWelcome to the front page of the front page! This was built by\n\t\t\t\tme, Austin Ftacnik, for my final project of{' '}\n\t\t\t\t<a\n\t\t\t\t\thref=\"https://www.theodinproject.com/courses/javascript/lessons/final-project-116ff273-1e55-4055-bd7f-146c17d0ec9c\"\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t>\n\t\t\t\t\tThe Odin Project\n\t\t\t\t</a>{' '}\n\t\t\t\tJavaScript course. This is a simplified clone of a popular\n\t\t\t\twebsite and was built for learning purposes, not to replace said\n\t\t\t\tsite. If you have any questions or comments, feel free to\n\t\t\t\tcontact via{' '}\n\t\t\t\t<a\n\t\t\t\t\thref=\"https://github.com/aplyd\"\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t>\n\t\t\t\t\tGithub\n\t\t\t\t</a>{' '}\n\t\t\t\tor{' '}\n\t\t\t\t<a\n\t\t\t\t\thref=\"https://twitter.com/austinftacnik\"\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t>\n\t\t\t\t\tTwitter\n\t\t\t\t</a>\n\t\t\t\t.\n\t\t\t</Description>\n\t\t\t{/* <div>\n\t\t\t\t<UserCount>\n\t\t\t\t\t<MembersNum>{userCount ? userCount : '2'}</MembersNum>\n\t\t\t\t\t<Members>Members</Members>\n\t\t\t\t</UserCount>\n\t\t\t\t<PostCount>\n\t\t\t\t\t<PostsNum>16</PostsNum>\n\t\t\t\t\t<Posts>Posts</Posts>\n\t\t\t\t</PostCount>\n\t\t\t</div> */}\n\n\t\t\t<Spacer height={12} />\n\t\t\t<CreationDate>\n\t\t\t\t<SVG as={GiCakeSlice} /> <p>Created April 15th, 2020</p>\n\t\t\t</CreationDate>\n\t\t\t<Spacer height={24} />\n\t\t</AboutContainer>\n\t);\n}\n","import React from 'react';\nimport {\n\tAboutContainer,\n\tAboutProjectDiv,\n\tSpacer,\n\tDescription,\n} from './SidebarAboutProject';\n\nexport default function SidebarMoreResources() {\n\treturn (\n\t\t<AboutContainer>\n\t\t\t<AboutProjectDiv>\n\t\t\t\t<p>Development Tools</p>\n\t\t\t</AboutProjectDiv>\n\t\t\t<Spacer height={12} />\n\t\t\t<Description>\n\t\t\t\t&middot; React\n\t\t\t\t<br />\n\t\t\t\t&middot; Styled-components\n\t\t\t\t<br />\n\t\t\t\t&middot; Firebase Firestore\n\t\t\t\t<br />\n\t\t\t</Description>\n\t\t</AboutContainer>\n\t);\n}\n","import React from 'react';\nimport styled from 'styled-components';\nimport SidebarAboutProject from '../components/SidebarAboutProject';\nimport SidebarMoreResources from '../components/SidebarMoreResources';\n\nconst Container = styled.div`\n\tgrid-column: 2;\n\tgrid-row: 1 / 3;\n`;\n\nconst Spacer = styled.div`\n\theight: 12px;\n\twidth: 100%;\n`;\n\nexport default function Sidebar() {\n\treturn (\n\t\t<Container>\n\t\t\t<SidebarAboutProject />\n\t\t\t<Spacer />\n\t\t\t<SidebarMoreResources />\n\t\t</Container>\n\t);\n}\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport styled from 'styled-components';\nimport { FaExternalLinkAlt } from 'react-icons/fa';\n\nconst Container = styled.div``;\n\nconst ImageContainer = styled.div`\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tpadding-top: 16px;\n\t@media screen and (max-width: 640px) {\n\t\tpadding-top: 32px;\n\t}\n`;\n\nconst Image = styled.img`\n\tmax-height: 512px;\n\tmax-width: 640px;\n\tpadding-right: 40px;\n\t@media screen and (max-width: 620px) {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tobject-fit: contain;\n\t}\n`;\n\nconst MediaTitle = styled.h2`\n\tfont-size: 20px;\n`;\n\nconst Video = styled.iframe`\n\toverflow: hidden;\n\twidth: 100%;\n\tmargin: 0 auto;\n\tposition: absolute;\n\theight: 100%;\n\tborder: none;\n`;\n\nconst VideoContainer = styled.div`\n\twidth: 100%;\n\tposition: relative;\n\tpadding-bottom: 56.25%;\n\tpadding-top: 12px 0 16px 0;\n`;\n\nconst LinkContainer = styled.div`\n\tcursor: pointer;\n\tpadding-bottom: 12px;\n\t&& > a {\n\t\tcolor: ${(props) => props.theme.colors.blue};\n\t\tfont-size: 12px;\n\t}\n\t&& > a:visited {\n\t\tcolor: ${(props) => props.theme.colors.blue};\n\t}\n\t&& > svg {\n\t\tfont-size: 10px;\n\t\tcolor: ${(props) => props.theme.colors.blue};\n\t}\n`;\n\nconst MediaPreview = ({ title, media }) => {\n\tconst shortenedUrl =\n\t\tmedia &&\n\t\tmedia.url.replace(/^(?:https?:\\/\\/)?(?:www\\.)?/i, '').split('/')[0];\n\n\treturn (\n\t\t<Container>\n\t\t\t<MediaTitle>{title}</MediaTitle>\n\n\t\t\t{media.mediaType === 'image' && (\n\t\t\t\t<ImageContainer>\n\t\t\t\t\t<Image src={media.url} alt={title} />\n\t\t\t\t</ImageContainer>\n\t\t\t)}\n\t\t\t{media.mediaType === 'video' && (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<LinkContainer>\n\t\t\t\t\t\t<a href={media.url}>{shortenedUrl} </a>\n\t\t\t\t\t\t<FaExternalLinkAlt />\n\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t<VideoContainer>\n\t\t\t\t\t\t<Video\n\t\t\t\t\t\t\tsrc={media.url}\n\t\t\t\t\t\t\twidth=\"100%\"\n\t\t\t\t\t\t\tpadding-top=\"100%\"\n\t\t\t\t\t\t\tscrolling=\"no\"\n\t\t\t\t\t\t\tframeborder=\"0\"\n\t\t\t\t\t\t\tallow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\"\n\t\t\t\t\t\t\tallowfullScreen\n\t\t\t\t\t\t></Video>\n\t\t\t\t\t</VideoContainer>\n\t\t\t\t</React.Fragment>\n\t\t\t)}\n\t\t</Container>\n\t);\n};\n\nMediaPreview.propTypes = {\n\tmedia: PropTypes.shape({\n\t\tmediaType: PropTypes.string,\n\t\turl: PropTypes.string,\n\t}),\n\ttitle: PropTypes.string,\n};\n\nexport default MediaPreview;\n","import { useEffect } from 'react';\n\nexport const useWindowWidth = (setWidth) => {\n\tuseEffect(() => {\n\t\tconst handleResize = () => {\n\t\t\tsetWidth(window.innerWidth);\n\t\t};\n\t\tsetWidth(window.innerWidth);\n\t\twindow.addEventListener('resize', handleResize);\n\t\treturn () => {\n\t\t\twindow.removeEventListener('resize', handleResize);\n\t\t};\n\t}, [setWidth]);\n};\n","import PropTypes from 'prop-types';\nimport React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { RiLinksLine } from 'react-icons/ri';\nimport { FaExternalLinkAlt } from 'react-icons/fa';\nimport { useWindowWidth } from '../hooks/useWindowWidth';\n\nconst Container = styled.div`\n\tpadding: 4px 0px 24px 8px;\n\tdisplay: flex;\n\tflex-direction: column;\n`;\n\nconst PreviewImage = styled.div`\n\tposition: absolute;\n\tright: 8px;\n\ttop: 16px;\n\twidth: 142px;\n\theight: 98px;\n\tborder-radius: 4px;\n\tcolor: ${(props) => props.theme.colors.blue};\n\tborder: solid 0.5px ${(props) => props.theme.colors.blue};\n\tbackground-image: ${(props) => 'url(' + props.img + ')'};\n\tbackground-size: contain;\n\tbackground-position: center;\n\tcursor: pointer;\n`;\n\nconst PreviewImageFallback = styled(PreviewImage)`\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tcursor: pointer;\n`;\n\nconst LinkTitle = styled.h2`\n\tfont-size: 20px;\n\tmargin-right: 162px;\n\t@media only screen and (max-width: 475px) {\n\t\tmargin-right: 8px;\n\t}\n`;\n\nconst LinkIcon = styled.svg`\n\tfont-size: 24px;\n`;\n\nconst GoToIcon = styled.svg`\n\tbackground-color: ${(props) => props.theme.colors.blue};\n\tpadding: 5px;\n\tcolor: white;\n\tfont-size: 9px;\n\tborder-top-left-radius: 4px;\n\tposition: absolute;\n\tbottom: 0;\n\tright: 0;\n`;\n\nconst Link = styled.a`\n\tfont-size: 12px;\n\tjustify-self: flex-end;\n\tpadding-top: 4px;\n\tcolor: ${(props) => props.theme.colors.blue};\n\t&&:visited {\n\t\tcolor: ${(props) => props.theme.colors.blue};\n\t}\n`;\n\nconst LinkContainer = styled.div`\n\tcursor: pointer;\n\t&& > svg {\n\t\tfont-size: 10px;\n\t\tcolor: ${(props) => props.theme.colors.blue};\n\t}\n\t&& > p {\n\t\tfont-size: 12px;\n\t\tcolor: ${(props) => props.theme.colors.blue};\n\t\tdisplay: inline;\n\t}\n`;\n\nexport default function LinkPreview({ title, url, preview }) {\n\tconst [img, setImg] = useState(null);\n\tconst [width, setWidth] = useState(0);\n\tuseWindowWidth(setWidth);\n\tconst shortenedUrl = url\n\t\t.replace(/^(?:https?:\\/\\/)?(?:www\\.)?/i, '')\n\t\t.split('/')[0];\n\n\tuseEffect(() => {\n\t\tif (preview !== null || preview !== undefined) {\n\t\t\tsetImg(preview);\n\t\t}\n\t}, [preview]);\n\n\tconst displayPreview = () => {\n\t\tif (width > 475) {\n\t\t\tif (preview) {\n\t\t\t\treturn (\n\t\t\t\t\t<PreviewImage\n\t\t\t\t\t\timg={img}\n\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\twindow.open(url, '_blank');\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<GoToIcon as={FaExternalLinkAlt}></GoToIcon>\n\t\t\t\t\t</PreviewImage>\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\treturn (\n\t\t\t\t\t<PreviewImageFallback\n\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\twindow.open(url, '_blank');\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<GoToIcon as={FaExternalLinkAlt}></GoToIcon>\n\t\t\t\t\t\t<LinkIcon as={RiLinksLine} />{' '}\n\t\t\t\t\t</PreviewImageFallback>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t};\n\n\treturn (\n\t\t<Container>\n\t\t\t<LinkTitle>{title}</LinkTitle>\n\n\t\t\t{displayPreview()}\n\n\t\t\t<LinkContainer>\n\t\t\t\t<Link\n\t\t\t\t\thref={url}\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\tonClick={(e) => e.stopPropagation()}\n\t\t\t\t>\n\t\t\t\t\t{shortenedUrl}\n\t\t\t\t</Link>\n\t\t\t\t<p>/... </p>\n\t\t\t\t<FaExternalLinkAlt />\n\t\t\t</LinkContainer>\n\t\t</Container>\n\t);\n}\n\nLinkPreview.propTypes = {\n\tpreview: PropTypes.string,\n\ttitle: PropTypes.string,\n\turl: PropTypes.string,\n};\n","import { v4 as uuidv4 } from 'uuid';\n\nexport const SORT_OPTIONS = {\n\tTIME_ASC: {\n\t\tcolumn: 'timestamp',\n\t\tdirection: 'asc',\n\t\tcolumn2: 'vote',\n\t\tdirection2: 'asc',\n\t},\n\tTIME_DESC: {\n\t\tcolumn: 'timestamp',\n\t\tdirection: 'desc',\n\t\tcolumn2: 'vote',\n\t\tdirection2: 'asc',\n\t},\n\tVOTE_ASC: {\n\t\tcolumn: 'vote',\n\t\tdirection: 'asc',\n\t\tcolumn2: 'timestamp',\n\t\tdirection2: 'asc',\n\t},\n};\n\nexport const Comment = ({\n\tcommentInput = '',\n\ttimestamp = Date.now(),\n\tusername = '',\n\tpoints = 1,\n\treplies = [],\n\tid = uuidv4(),\n\tdepth = 0,\n\tdeleted = false,\n} = {}) => ({\n\tcommentInput,\n\ttimestamp,\n\tpoints,\n\treplies,\n\tusername,\n\tid,\n\tdepth,\n\tdeleted,\n});\n\nexport const setCommentAsDeleted = (object, targetId) => {\n\tif (object.id === targetId) {\n\t\tobject.deleted = true;\n\t} else {\n\t\tobject.replies.forEach((obj) => {\n\t\t\tsetCommentAsDeleted(obj, targetId);\n\t\t});\n\t}\n\n\treturn object.replies;\n};\n\nexport const withNewCommentVote = (object, targetId, newVoteCount) => {\n\tif (object.id === targetId) {\n\t\tobject.points = newVoteCount;\n\t} else {\n\t\tobject.replies.forEach((obj) => {\n\t\t\twithNewCommentVote(obj, targetId, newVoteCount);\n\t\t});\n\t}\n\treturn object;\n};\n\nexport const insertReply = (object, targetId, replyToAdd) => {\n\tif (object.id === targetId) {\n\t\tobject.replies.push(replyToAdd);\n\t} else {\n\t\tobject.replies.forEach((obj) => {\n\t\t\tinsertReply(obj, targetId, replyToAdd);\n\t\t});\n\t}\n\treturn object.replies;\n};\n\nexport const countReplies = (object) => {\n\tlet counter = 0;\n\tconst count = (object) => {\n\t\tfor (let i = 0; i < object.replies.length; i++) {\n\t\t\tcounter++;\n\t\t\tif (object.replies[i].replies.length > 0) {\n\t\t\t\tcount(object.replies[i]);\n\t\t\t}\n\t\t}\n\t};\n\n\tcount(object);\n\treturn counter;\n};\n\nexport const filterPosts = (postsArr, search) => {\n\tconst results = postsArr.filter((post) => {\n\t\tif (\n\t\t\tpost.title.indexOf(search) !== -1 ||\n\t\t\tpost.postText.indexOf(search) !== -1\n\t\t) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t});\n\n\treturn results;\n};\nexport const validateMediaLink = (url) => {\n\t//validate image works\n\tfunction testImage(url, timeoutT) {\n\t\treturn new Promise(function (resolve, reject) {\n\t\t\tvar timeout = timeoutT || 5000;\n\t\t\tvar timer,\n\t\t\t\timg = new Image();\n\t\t\timg.onerror = img.onabort = function () {\n\t\t\t\tclearTimeout(timer);\n\t\t\t\tresolve(false);\n\t\t\t};\n\t\t\timg.onload = function () {\n\t\t\t\tclearTimeout(timer);\n\t\t\t\tresolve({ mediaType: 'image', url });\n\t\t\t};\n\t\t\ttimer = setTimeout(function () {\n\t\t\t\t//set .src to invalid jpg so it fails\n\t\t\t\timg.src = '//!!!!/test.jpg';\n\t\t\t\tresolve(false);\n\t\t\t}, timeout);\n\t\t\timg.src = url;\n\t\t});\n\t}\n\n\tfunction getYoutubeId(url) {\n\t\tconst regExp = /^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|&v=)([^#&?]*).*/;\n\t\tconst match = url.match(regExp);\n\n\t\treturn match && match[2].length === 11 ? match[2] : null;\n\t}\n\n\t//check if image\n\tif (url.match(/\\.(jpeg|jpg|gif|png)$/) !== null) {\n\t\treturn testImage(url).catch((err) => console.log(err));\n\t}\n\n\t//if video, check it's youtube and then return with embed link\n\tif (url.includes('youtube') || url.includes('youtu.be')) {\n\t\tconst id = getYoutubeId(url);\n\n\t\tif (id) {\n\t\t\treturn Promise.resolve({\n\t\t\t\tmediaType: 'video',\n\t\t\t\turl: 'https://www.youtube.com/embed/' + id,\n\t\t\t});\n\t\t} else {\n\t\t\treturn Promise.resolve(false);\n\t\t}\n\t}\n\treturn Promise.resolve(false);\n};\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport styled from 'styled-components';\nimport MediaPreview from './MediaPreview';\nimport LinkPreview from './LinkPreview';\nimport formatDistance from 'date-fns/formatDistance';\nimport { FaCommentAlt } from 'react-icons/fa';\nimport { countReplies } from '../utils';\n\nexport const ContentContainer = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\tgrid-column: 2;\n\tgrid-row: 1;\n\tposition: relative;\n`;\n\nexport const InfoContainer = styled.div`\n\tdisplay: flex;\n\tflex-direction: row;\n\tpadding: 8px 8px 4px 8px;\n\tgrid-column: 3;\n\t&& > p {\n\t\tpadding-right: 8px;\n\t\tcolor: gray;\n\t\tcursor: default;\n\t\tfont-size: 12px;\n\t}\n`;\n\nexport const Title = styled.h2`\n\tpadding: 4px 8px 20px 8px;\n\tfont-size: 20px;\n\tcolor: black;\n\tword-break: break-all;\n`;\n\nexport const ActionContainer = styled.div`\n\tdisplay: flex;\n\tflex-direction: row;\n\tpadding-left: 8px;\n\tborder: none;\n\tgrid-column: 2;\n\tgrid-row: 2;\n`;\n\nexport const ActionButton = styled.button`\n\ttext-transform: capitalize;\n\tbackground: white;\n\tcolor: gray;\n\tfont-size: 12px;\n\tborder-radius: 4px;\n\toutline: none;\n\tborder: none;\n\tpadding: 0 4px;\n\tmargin-right: 8px;\n\t&&:hover {\n\t\tcursor: pointer;\n\t\tbackground: lightgray;\n\t}\n`;\n\nexport const SVG = styled.svg`\n\tborder-radius: 4px;\n\tcolor: ${(props) => {\n\t\tif (props.direction === props.uservote) {\n\t\t\treturn props.direction === 'up'\n\t\t\t\t? props.theme.colors.red\n\t\t\t\t: props.theme.colors.blue;\n\t\t}\n\t}};\n\tbackground-color: ${(props) =>\n\t\tprops.direction === props.uservote\n\t\t\t? props.theme.colors.lightGray\n\t\t\t: null};\n\t&&:hover {\n\t\tcolor: ${(props) =>\n\t\t\tprops.direction === 'up'\n\t\t\t\t? props.theme.colors.red\n\t\t\t\t: props.theme.colors.blue};\n\t\tbackground-color: ${(props) => props.theme.colors.lightGray};\n\t\tcursor: pointer;\n\t}\n`;\n\nconst Pinned = styled.p`\n\tgrid-column: 2;\n\tgrid-row: 1;\n\tcolor: ${(props) => props.theme.colors.grey};\n\tfont-size: 10px;\n\ttext-transform: uppercase;\n\tpadding: 6px 0 6px 8px;\n`;\n\nconst Comment = styled(ActionButton)`\n\tvertical-align: middle;\n`;\n\nconst Share = styled(ActionButton)`\n\tcursor: no-drop;\n\t&&:hover {\n\t\tcursor: no-drop;\n\t}\n`;\n\nconst CommentSVG = styled.svg`\n\tposition: relative;\n\ttop: 2.5px;\n\tleft: 0px;\n`;\n\nconst PreviewContent = ({ pinned, username, timestamp, post }) => {\n\tconst commentCount = post ? countReplies(post) : null;\n\n\tconst displayPreviewType = () => {\n\t\tif (post.deleted) {\n\t\t\treturn <Title>[deleted]</Title>;\n\t\t} else if (post.postType === 'post') {\n\t\t\treturn <Title>{post.title}</Title>;\n\t\t} else if (post.postType === 'media') {\n\t\t\treturn <MediaPreview title={post.title} media={post.postMedia} />;\n\t\t} else if (post.postType === 'link') {\n\t\t\treturn (\n\t\t\t\t<LinkPreview\n\t\t\t\t\ttitle={post.title}\n\t\t\t\t\turl={post.postLink}\n\t\t\t\t\tpreview={post.linkPreview}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t};\n\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<ContentContainer>\n\t\t\t\t{pinned ? <Pinned>Pinned by moderators</Pinned> : null}\n\t\t\t\t<InfoContainer>\n\t\t\t\t\t{post.deleted ? (\n\t\t\t\t\t\t<p>Posted by [deleted]</p>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<p>Posted by {username}</p>\n\t\t\t\t\t)}\n\t\t\t\t\t<p>\n\t\t\t\t\t\t{formatDistance(Date.now(), timestamp, {\n\t\t\t\t\t\t\tincludeSeconds: true,\n\t\t\t\t\t\t})}{' '}\n\t\t\t\t\t\tago\n\t\t\t\t\t</p>\n\t\t\t\t</InfoContainer>\n\n\t\t\t\t{displayPreviewType()}\n\t\t\t</ContentContainer>\n\n\t\t\t<ActionContainer pinned={pinned}>\n\t\t\t\t<Comment>\n\t\t\t\t\t<CommentSVG as={FaCommentAlt} />\n\t\t\t\t\t{'  ' + commentCount}{' '}\n\t\t\t\t\t{commentCount === 1 ? 'comment' : 'comments'}\n\t\t\t\t</Comment>\n\t\t\t\t<Share>share</Share>\n\t\t\t</ActionContainer>\n\t\t</React.Fragment>\n\t);\n};\n\nPreviewContent.propTypes = {\n\tpinned: PropTypes.bool,\n\tpost: PropTypes.shape({\n\t\tdeleted: PropTypes.bool,\n\t\tlinkPreview: PropTypes.string,\n\t\tpostLink: PropTypes.string,\n\t\tpostMedia: PropTypes.any,\n\t\tpostType: PropTypes.string,\n\t\ttitle: PropTypes.string,\n\t}),\n\ttimestamp: PropTypes.number,\n\tusername: PropTypes.string,\n};\n\nexport default PreviewContent;\n","import { createContext } from 'react';\n\nexport const PostContext = createContext({});\n","import PropTypes from 'prop-types';\nimport React, { useContext, useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { GoArrowDown, GoArrowUp } from 'react-icons/go';\nimport { PostContext } from '../PostContext';\n\nexport const Container = styled.div`\n\theight: 100%;\n\tcolor: gray;\n\tgrid-column: 1;\n\t&& > div {\n\t\tpadding: 10px 0 0 8px;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t}\n`;\n\nconst SVG = styled.svg`\n\tborder-radius: 4px;\n\tcolor: ${(props) => {\n\t\tif (props.direction === props.uservote) {\n\t\t\treturn props.direction === 'up'\n\t\t\t\t? props.theme.colors.red\n\t\t\t\t: props.theme.colors.blue;\n\t\t}\n\t}};\n\tbackground-color: ${(props) =>\n\t\tprops.direction === props.uservote\n\t\t\t? props.theme.colors.lightGray\n\t\t\t: null};\n\t&&:hover {\n\t\tcolor: ${(props) =>\n\t\t\tprops.direction === 'up'\n\t\t\t\t? props.theme.colors.red\n\t\t\t\t: props.theme.colors.blue};\n\t\tbackground-color: ${(props) => props.theme.colors.lightGray};\n\t\tcursor: pointer;\n\t}\n`;\n\nexport const Vote = styled.p`\n\tfont-size: ${(props) => props.theme.font.size.xs};\n\tcolor: ${(props) => {\n\t\tif (props.userVote === 'up') {\n\t\t\treturn props.theme.colors.red;\n\t\t} else if (props.userVote === 'down') {\n\t\t\treturn props.theme.colors.blue;\n\t\t} else {\n\t\t\treturn 'black';\n\t\t}\n\t}};\n\tpadding: 6px 0;\n\tcursor: default;\n\tfont-weight: bold;\n`;\n\nconst VoteContainer = ({ id, vote }) => {\n\tconst { castPostVote, user } = useContext(PostContext);\n\tconst [userVote, setUserVote] = useState(null);\n\n\tuseEffect(() => {\n\t\tconst checkForUserVote = () => {\n\t\t\tif (user.postVotes.hasOwnProperty(id)) {\n\t\t\t\tsetUserVote(user.postVotes[id]);\n\t\t\t}\n\t\t};\n\t\tuser.postVotes && checkForUserVote();\n\t}, [userVote, setUserVote, id, user.postVotes]);\n\n\treturn (\n\t\t<Container>\n\t\t\t<div>\n\t\t\t\t<SVG\n\t\t\t\t\tas={GoArrowUp}\n\t\t\t\t\tonClick={(e) =>\n\t\t\t\t\t\tcastPostVote(e, 'up', id, vote, setUserVote, 'home')\n\t\t\t\t\t}\n\t\t\t\t\tdirection={'up'}\n\t\t\t\t\tuservote={userVote}\n\t\t\t\t/>\n\t\t\t\t<Vote userVote={userVote}>{vote}</Vote>\n\t\t\t\t<SVG\n\t\t\t\t\tas={GoArrowDown}\n\t\t\t\t\tonClick={(e) =>\n\t\t\t\t\t\tcastPostVote(e, 'down', id, vote, setUserVote, 'home')\n\t\t\t\t\t}\n\t\t\t\t\tdirection={'down'}\n\t\t\t\t\tuservote={userVote}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</Container>\n\t);\n};\n\nVoteContainer.propTypes = {\n\tid: PropTypes.string,\n\tvote: PropTypes.number,\n};\n\nexport default VoteContainer;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport styled from 'styled-components';\nimport PreviewContent from '../components/PreviewContent';\nimport VoteContainer from '../components/VoteContainer';\nimport { roundedGreyBorder } from '../GlobalStyle';\nimport { useHistory } from 'react-router-dom';\n\nconst Container = styled.div`\n\tgrid-column: 1;\n`;\n\nconst PreviewContainer = styled.div`\n\twidth: 100%;\n\tmin-height: 152px;\n\t${roundedGreyBorder}\n\tdisplay: grid;\n\tgrid-template-columns: 40px 1fr;\n\tgrid-template-rows: 1fr 32px;\n\tmargin-bottom: 12px;\n\tcursor: pointer;\n\t&&:hover {\n\t\tborder: solid 1px rgb(137, 137, 137);\n\t}\n`;\n\nconst BackToTopBtn = styled.button`\n\tbackground-color: ${(props) => props.theme.colors.blue};\n\tborder-color: ${(props) => props.theme.colors.blue};\n\tcolor: white;\n\tborder-radius: 4px;\n\tborder: none;\n\tdisplay: block;\n\tmargin: 32px auto 24px auto;\n\tpadding: 8px 16px;\n\t&&:hover {\n\t\tbackground-color: ${(props) => props.theme.colors.lightBlue};\n\t}\n`;\n\nconst Feed = ({ posts, children, viewPostComments }) => {\n\t// const [postRange, setPostRange] = useState(10);\n\t// const setOfPosts = [...posts].slice(0, postRange);\n\t// const lastItem = useRef(null);\n\tconst history = useHistory();\n\n\t//simulating pagination for now - to be updated when firestore orderBy() and limit() work\n\t// useEffect(() => {\n\t// \tconst item = lastItem.current;\n\t// \tconst observer = new IntersectionObserver(\n\t// \t\t([entry]) => {\n\t// \t\t\tif (entry.isIntersecting) {\n\t// \t\t\t\tsetPostRange(postRange + 10);\n\t// \t\t\t}\n\t// \t\t},\n\t// \t\t{\n\t// \t\t\troot: null,\n\t// \t\t\trootMargin: '0px',\n\t// \t\t\tthreshold: 1,\n\t// \t\t}\n\t// \t);\n\t// \tif (item) {\n\t// \t\tobserver.observe(item);\n\t// \t}\n\t// \treturn () => {\n\t// \t\tif (item) {\n\t// \t\t\tobserver.unobserve(item);\n\t// \t\t}\n\t// \t};\n\t// }, [lastItem, postRange]);\n\n\tconst handleClick = (id, url) => {\n\t\tviewPostComments(id);\n\t\thistory.push(`/comments/${url}/${id}`);\n\t};\n\n\treturn (\n\t\t<Container>\n\t\t\t{posts &&\n\t\t\t\tposts.map((post, index) => {\n\t\t\t\t\tconst url = post.title.replace(/\\W/g, '').toLowerCase();\n\t\t\t\t\t//using index in vote containes\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<PreviewContainer\n\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\tonClick={() => handleClick(post.id, url)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<PreviewContent\n\t\t\t\t\t\t\t\tusername={post.username}\n\t\t\t\t\t\t\t\ttimestamp={post.timestamp}\n\t\t\t\t\t\t\t\tpost={post}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<VoteContainer vote={post.vote} id={post.id} />\n\t\t\t\t\t\t</PreviewContainer>\n\t\t\t\t\t);\n\t\t\t\t})}\n\n\t\t\t{children}\n\t\t\t{/* {setOfPosts.length === posts.length && setOfPosts.length > 0 ? ( */}\n\t\t\t<BackToTopBtn\n\t\t\t\tonClick={() => window.scrollTo({ top: 0, behavior: 'smooth' })}\n\t\t\t>\n\t\t\t\tBack To Top\n\t\t\t</BackToTopBtn>\n\t\t\t{/* ) : null} */}\n\t\t\t{/* <div ref={lastItem}></div> */}\n\t\t</Container>\n\t);\n};\n\nFeed.propTypes = {\n\tchildren: PropTypes.node,\n\tposts: PropTypes.any,\n\tviewPostComments: PropTypes.func,\n};\n\nexport default Feed;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { roundedGreyBorder } from '../GlobalStyle';\nimport { FaUserCircle } from 'react-icons/fa';\nimport { useHistory } from 'react-router-dom';\n\nconst Container = styled.div`\n\theight: 54px;\n\t${roundedGreyBorder}\n\tmargin-bottom: 18px;\n\tdisplay: flex;\n\tflex-direction: row;\n`;\n\nconst SVGprofile = styled.svg`\n\tposition: relative;\n\ttop: 10px;\n\tleft: 12px;\n\tfont-size: 36px;\n\tcolor: ${(props) => props.theme.colors.grey};\n`;\n\nconst CreatePostInput = styled.input`\n\theight: 34px;\n\twidth: 100%;\n\tborder-radius: 4px;\n\tfont-size: 16px;\n\ttext-indent: 10px;\n\tmargin-top: 10px;\n\tmargin-left: 24px;\n\tmargin-right: 24px;\n\tborder: solid 0.5px white;\n\t&&:hover {\n\t\tborder: 0.5px solid rgb(0, 121, 211);\n\t}\n`;\n\nexport default function FeedCreatePost() {\n\tconst history = useHistory();\n\treturn (\n\t\t<Container>\n\t\t\t<SVGprofile as={FaUserCircle} />\n\t\t\t<CreatePostInput\n\t\t\t\tplaceholder=\"Create Post\"\n\t\t\t\ttype=\"text\"\n\t\t\t\tonFocus={() => history.push('/submit')}\n\t\t\t></CreatePostInput>\n\t\t</Container>\n\t);\n}\n","import PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport styled from 'styled-components';\nimport FeedSort from './FeedSort';\nimport Sidebar from './Sidebar';\nimport Feed from './Feed';\nimport FeedCreatePost from '../components/FeedCreatePost';\nimport { useWindowWidth } from '../hooks/useWindowWidth';\n\nconst Container = styled.div`\n\twidth: calc(100% - 32px);\n\tmax-width: 960px;\n\tmargin: 0 auto;\n\tdisplay: grid;\n\tgrid-template-columns: 1fr 310px;\n\tgrid-template-rows: auto;\n\tgrid-gap: 24px;\n\tpadding-top: 24px;\n\t@media screen and (max-width: 960px) {\n\t\tgrid-template-columns: 1fr;\n\t\tmax-width: 869px;\n\t}\n\t@media screen and (max-width: 600px) {\n\t\twidth: 100%;\n\t}\n`;\n\nconst MainContainer = styled.div`\n\tgrid-column: 1;\n`;\n\nconst SidebarContainer = styled.div`\n\tgrid-column: 2;\n`;\n\nexport default function FeedContainer({\n\tposts,\n\tsortPosts,\n\tsortBy,\n\tdisplayFeedSort,\n\tchildren,\n\tviewPostComments,\n\tuser,\n}) {\n\tconst [width, setWidth] = useState(window.innerWidth);\n\tuseWindowWidth(setWidth);\n\n\t// conditionally displaying Feed/FeedSort because the\n\t// Comments page uses this component without FeedSort\n\treturn (\n\t\t<Container>\n\t\t\t<MainContainer>\n\t\t\t\t{displayFeedSort ? (\n\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t{user.isSignedIn ? (\n\t\t\t\t\t\t\t<FeedCreatePost key={'create post'} />\n\t\t\t\t\t\t) : null}\n\n\t\t\t\t\t\t<FeedSort\n\t\t\t\t\t\t\tsortPosts={sortPosts}\n\t\t\t\t\t\t\tsortBy={sortBy}\n\t\t\t\t\t\t\tkey={'sort posts'}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Feed\n\t\t\t\t\t\t\tposts={posts}\n\t\t\t\t\t\t\tkey={'feed'}\n\t\t\t\t\t\t\tviewPostComments={viewPostComments}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</React.Fragment>\n\t\t\t\t) : null}\n\t\t\t\t{children}\n\t\t\t</MainContainer>\n\t\t\t{width > 960 ? (\n\t\t\t\t<SidebarContainer>\n\t\t\t\t\t<Sidebar />\n\t\t\t\t</SidebarContainer>\n\t\t\t) : null}\n\t\t</Container>\n\t);\n}\n\nFeedContainer.propTypes = {\n\tchildren: PropTypes.node,\n\tdisplayFeedSort: PropTypes.bool,\n\tposts: PropTypes.any,\n\tsortBy: PropTypes.any,\n\tsortPosts: PropTypes.func,\n\tuser: PropTypes.any,\n\tviewPostComments: PropTypes.func,\n};\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport styled from 'styled-components';\nimport { validateMediaLink } from '../utils';\n\nconst FormContainer = styled.form`\n\tposition: relative;\n`;\n\nconst TitleInput = styled.input`\n\twidth: calc(100% - 42px);\n\ttext-indent: 10px;\n\tborder-radius: 4px;\n\tfont-size: 16px;\n\toutline: none;\n\tpadding: 8px;\n\tmargin: 8px 8px 16px 12px;\n\tborder: solid 0.5px white;\n\t&&:focus,\n\t:hover {\n\t\tborder: solid 0.5px black;\n\t}\n`;\nconst TextInput = styled.textarea`\n\twidth: calc(100% - 42px);\n\tpadding: 8px;\n\tmargin-left: 12px;\n\tmargin-bottom: 92px;\n\ttext-indent: 10px;\n\tborder-radius: 4px;\n\tmin-height: 122px;\n\tfont-size: 16px;\n\toutline: none;\n\tborder: solid 0.5px white;\n\t&&:focus,\n\t:hover {\n\t\tborder: solid 0.5px black;\n\t}\n`;\n\nconst CancelBtn = styled.button`\n\tcolor: ${(props) => props.theme.colors.blue};\n\tbackground-color: white;\n\tborder: 1px solid ${(props) => props.theme.colors.blue};\n\tline-height: 24px;\n\tdisplay: inline;\n\tposition: absolute;\n\tright: 90px;\n\tbottom: 52px;\n\t:hover {\n\t\tcolor: ${(props) => props.theme.colors.lightBlue};\n\t\tborder: 1px solid ${(props) => props.theme.colors.lightBlue};\n\t}\n`;\nconst SubmitBtn = styled.button`\n\tcolor: white;\n\tbackground-color: ${(props) => props.theme.colors.blue};\n\tborder: 1px solid white;\n\tline-height: 24px;\n\tdisplay: inline;\n\tposition: absolute;\n\tright: 8px;\n\tbottom: 52px;\n\t:hover {\n\t\tbackground-color: ${(props) => props.theme.colors.lightBlue};\n\t}\n`;\n\nconst MediaInput = styled(TextInput)`\n\tmin-height: 48px;\n`;\nconst LinkInput = styled(TextInput)`\n\tmin-height: 48px;\n`;\n\nexport default function CreatePost({\n\tonSubmit,\n\tonCancel,\n\tsetPostText,\n\tsetPostLink,\n\tpostLink,\n\tpostMedia,\n\tsetPostMedia,\n\tsetTitle,\n\ttitle,\n\tpostText,\n\tinputShown,\n}) {\n\tconst validateMediaBeforeSubmit = (e) => {\n\t\te.preventDefault();\n\t\tif (inputShown === 'media') {\n\t\t\tvalidateMediaLink(postMedia).then((res) => {\n\t\t\t\tif (res) {\n\t\t\t\t\tonSubmit(res);\n\t\t\t\t} else {\n\t\t\t\t\talert(\n\t\t\t\t\t\t'Invalid media, only youtube links and image formats (.jpeg, .jpg, .png, .gif) currently supported'\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tonSubmit(e);\n\t\t}\n\t};\n\n\treturn (\n\t\t<FormContainer onSubmit={validateMediaBeforeSubmit}>\n\t\t\t<TitleInput\n\t\t\t\ttype=\"text\"\n\t\t\t\tvalue={title}\n\t\t\t\trequired\n\t\t\t\tonChange={(e) => setTitle(e.currentTarget.value)}\n\t\t\t\tplaceholder=\"Title\"\n\t\t\t\tmaxLength=\"300\"\n\t\t\t></TitleInput>\n\t\t\t{inputShown === 'post' && (\n\t\t\t\t<TextInput\n\t\t\t\t\tvalue={postText}\n\t\t\t\t\tonChange={(e) => setPostText(e.currentTarget.value)}\n\t\t\t\t\tplaceholder=\"Text (optional)\"\n\t\t\t\t\tmaxLength=\"1600\"\n\t\t\t\t></TextInput>\n\t\t\t)}\n\t\t\t{inputShown === 'media' && (\n\t\t\t\t<MediaInput\n\t\t\t\t\tplaceholder={'Url'}\n\t\t\t\t\tonChange={(e) => setPostMedia(e.target.value)}\n\t\t\t\t\tvalue={postMedia}\n\t\t\t\t\trequired\n\t\t\t\t></MediaInput>\n\t\t\t)}\n\t\t\t{inputShown === 'link' && (\n\t\t\t\t<LinkInput\n\t\t\t\t\tplaceholder={'Url'}\n\t\t\t\t\tonChange={(e) => setPostLink(e.target.value)}\n\t\t\t\t\tvalue={postLink}\n\t\t\t\t\trequired\n\t\t\t\t></LinkInput>\n\t\t\t)}\n\n\t\t\t<CancelBtn type=\"button\" onClick={() => onCancel()}>\n\t\t\t\tCancel\n\t\t\t</CancelBtn>\n\t\t\t<SubmitBtn type=\"submit\">Post</SubmitBtn>\n\t\t</FormContainer>\n\t);\n}\n\nCreatePost.propTypes = {\n\tinputShown: PropTypes.string,\n\tonCancel: PropTypes.func,\n\tonSubmit: PropTypes.func,\n\tpostLink: PropTypes.string,\n\tpostMedia: PropTypes.string,\n\tpostText: PropTypes.string,\n\tsetPostLink: PropTypes.func,\n\tsetPostMedia: PropTypes.func,\n\tsetPostText: PropTypes.func,\n\tsetTitle: PropTypes.func,\n\ttitle: PropTypes.string,\n};\n","import React, { useState, useContext } from 'react';\nimport { Container } from '../App';\nimport styled from 'styled-components';\nimport { roundedGreyBorder } from '../GlobalStyle';\nimport FeedContainer from '../layouts/FeedContainer';\nimport CreatePost from '../components/CreatePost';\nimport { useHistory } from 'react-router-dom';\nimport { PostContext } from '../PostContext';\nimport firebase, { LINKPREVIEW_API_KEY } from '../firebase';\nimport { TiDocumentText } from 'react-icons/ti';\nimport { BsImageFill } from 'react-icons/bs';\nimport { RiLinksLine } from 'react-icons/ri';\nimport axios from 'axios';\nimport { v4 as uuidv4 } from 'uuid';\n\nconst CreatePostContainer = styled.div`\n\t${roundedGreyBorder};\n\tgrid-row: 1;\n`;\n\nconst CreateAPost = styled.h3`\n\tpadding-left: 4px;\n`;\n\nconst WhiteLine = styled.div`\n\tborder-radius: 4px;\n\tbackground: white;\n\theight: 2px;\n\tborder-radius: 4px;\n\tmargin-top: 4px;\n\tmargin-bottom: 16px;\n`;\n\nconst InputShownSelectContainer = styled.div`\n\tdisplay: flex;\n\tflex-direction: row;\n\twidth: 100%;\n`;\n\nconst InputSelectItem = styled.div`\n\twidth: 100%;\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: space-between;\n\talign-items: center;\n\tmin-height: 62px;\n\tcursor: pointer;\n\t&& > div {\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t}\n`;\n\nconst PostP = styled.p`\n\tcolor: ${(props) =>\n\t\tprops.inputshown === props.label\n\t\t\t? props.theme.colors.blue\n\t\t\t: props.theme.colors.gray};\n\tpadding-top: 20px;\n\tfont-size: 16px;\n\t@media screen and (max-width: 400px) {\n\t\tpadding-bottom: 16px;\n\t}\n\t/* padding: 24px 0 12px 10%; */\n`;\n\nconst MediaP = styled(PostP)``;\nconst LinkP = styled(PostP)``;\n\nconst BlueLine = styled.div`\n\tbackground-color: ${(props) =>\n\t\tprops.inputshown === props.label ? props.theme.colors.blue : 'white'};\n\theight: 2px;\n\twidth: 100%;\n`;\n\nconst InputTypeSVG = styled.svg`\n\tcolor: ${(props) =>\n\t\tprops.inputshown === props.label\n\t\t\t? props.theme.colors.blue\n\t\t\t: props.theme.colors.gray};\n\tfont-size: 18px;\n\tpadding-top: 21px;\n\tpadding-right: 8px;\n`;\n\nexport default function Submit() {\n\tconst [title, setTitle] = useState('');\n\tconst [postText, setPostText] = useState('');\n\tconst [postMedia, setPostMedia] = useState('');\n\tconst [postLink, setPostLink] = useState('');\n\tconst [inputShown, setInputShown] = useState('post');\n\tconst { user, setUser, setPosts, posts } = useContext(PostContext);\n\tconst history = useHistory();\n\n\tconst onSubmit = async (media = null) => {\n\t\tconst timestamp = Date.now();\n\t\tconst postID = uuidv4();\n\n\t\t//fetch post preview\n\t\tconst getPreviewImage = async () => {\n\t\t\tconst image = await axios\n\t\t\t\t.get(\n\t\t\t\t\t`https://api.linkpreview.net/?key=${LINKPREVIEW_API_KEY}&q=${postLink}`\n\t\t\t\t)\n\t\t\t\t.then((res) => res.data.image)\n\t\t\t\t.catch((err) => console.error(err));\n\t\t\treturn image;\n\t\t};\n\n\t\tconst submitPost = ({ img = null, media = null }) => {\n\t\t\t//add post data to firebase and 'posts' state to immediately display\n\t\t\tfirebase\n\t\t\t\t.firestore()\n\t\t\t\t.collection('posts')\n\t\t\t\t.doc(postID)\n\t\t\t\t.set({\n\t\t\t\t\tpostType: inputShown,\n\t\t\t\t\tlinkPreview: img,\n\t\t\t\t\ttitle,\n\t\t\t\t\tpostText,\n\t\t\t\t\tpostMedia: media,\n\t\t\t\t\tpostLink,\n\t\t\t\t\ttimestamp,\n\t\t\t\t\tvote: 1,\n\t\t\t\t\tusername: user.username,\n\t\t\t\t\treplies: [],\n\t\t\t\t\tid: postID,\n\t\t\t\t\tdeleted: false,\n\t\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\tsetPosts([\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpostType: inputShown,\n\t\t\t\t\t\t\tlinkPreview: img,\n\t\t\t\t\t\t\ttitle,\n\t\t\t\t\t\t\tpostText,\n\t\t\t\t\t\t\tpostMedia: media,\n\t\t\t\t\t\t\tpostLink,\n\t\t\t\t\t\t\ttimestamp,\n\t\t\t\t\t\t\tvote: 1,\n\t\t\t\t\t\t\tusername: user.username,\n\t\t\t\t\t\t\treplies: [],\n\t\t\t\t\t\t\tid: postID,\n\t\t\t\t\t\t\tdeleted: false,\n\t\t\t\t\t\t},\n\t\t\t\t\t\t...posts,\n\t\t\t\t\t]);\n\t\t\t\t});\n\n\t\t\t// add post to user profile\n\t\t\tfirebase\n\t\t\t\t.firestore()\n\t\t\t\t.collection('users')\n\t\t\t\t.doc(user.uid)\n\t\t\t\t.update({\n\t\t\t\t\tposts: [\n\t\t\t\t\t\t...user.posts,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle,\n\t\t\t\t\t\t\tpostText,\n\t\t\t\t\t\t\ttimestamp,\n\t\t\t\t\t\t\tpostID,\n\t\t\t\t\t\t\tuid: user.uid,\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t});\n\n\t\t\t// get added users\n\t\t\tfirebase\n\t\t\t\t.firestore()\n\t\t\t\t.collection('users')\n\t\t\t\t.doc(user.uid)\n\t\t\t\t.get()\n\t\t\t\t.then((res) => {\n\t\t\t\t\tconst data = res.data();\n\t\t\t\t\tsetUser({\n\t\t\t\t\t\t...data,\n\t\t\t\t\t\tisSignedIn: true,\n\t\t\t\t\t\tisAnonymous: false,\n\t\t\t\t\t\tposts: [\n\t\t\t\t\t\t\t...user.posts,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tpostID,\n\t\t\t\t\t\t\t\tpostText,\n\t\t\t\t\t\t\t\ttitle,\n\t\t\t\t\t\t\t\ttimestamp,\n\t\t\t\t\t\t\t\tuid: user.uid,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t};\n\n\t\t//fetch post preview and save to firebase\n\t\tif (user) {\n\t\t\tif (inputShown === 'link') {\n\t\t\t\tconst img = await getPreviewImage();\n\t\t\t\tsubmitPost(img);\n\t\t\t} else {\n\t\t\t\tsubmitPost({ media });\n\t\t\t}\n\t\t\t//add post data to firebase and 'posts' state to immediately display\n\t\t\tsetTitle('');\n\t\t\tsetPostText('');\n\t\t\thistory.push('/');\n\t\t} else {\n\t\t\t//this block should never be reached because CreatePost component is only mounted when signed in\n\t\t\talert('you must sign in to create a post :)');\n\t\t}\n\t};\n\n\tconst onCancel = () => {\n\t\tconst cancel = () => {\n\t\t\tsetTitle('');\n\t\t\tsetPostText('');\n\t\t\thistory.push('/');\n\t\t};\n\t\tif (title.length > 0 || postText.length > 0) {\n\t\t\tif (\n\t\t\t\twindow.confirm(\n\t\t\t\t\t'Are you sure you want to leave this page? Your post will not be saved.'\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tcancel();\n\t\t\t}\n\t\t} else {\n\t\t\tcancel();\n\t\t}\n\t};\n\n\tconst postProps = { inputshown: inputShown, label: 'post' };\n\tconst mediaProps = { inputshown: inputShown, label: 'media' };\n\tconst linkProps = { inputshown: inputShown, label: 'link' };\n\n\treturn (\n\t\t<Container>\n\t\t\t<FeedContainer displayFeedSort={false}>\n\t\t\t\t<div>\n\t\t\t\t\t<CreateAPost>Create a post</CreateAPost>\n\t\t\t\t\t<WhiteLine></WhiteLine>\n\t\t\t\t\t<CreatePostContainer>\n\t\t\t\t\t\t<InputShownSelectContainer>\n\t\t\t\t\t\t\t<InputSelectItem\n\t\t\t\t\t\t\t\tonClick={() => setInputShown('post')}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<InputTypeSVG\n\t\t\t\t\t\t\t\t\t\tas={TiDocumentText}\n\t\t\t\t\t\t\t\t\t\t{...postProps}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<PostP {...postProps}>Post</PostP>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<BlueLine {...postProps}></BlueLine>\n\t\t\t\t\t\t\t</InputSelectItem>\n\n\t\t\t\t\t\t\t<InputSelectItem\n\t\t\t\t\t\t\t\tonClick={() => setInputShown('media')}\n\t\t\t\t\t\t\t\t{...mediaProps}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<InputTypeSVG\n\t\t\t\t\t\t\t\t\t\tas={BsImageFill}\n\t\t\t\t\t\t\t\t\t\t{...mediaProps}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<MediaP {...mediaProps}>\n\t\t\t\t\t\t\t\t\t\tImage & Video\n\t\t\t\t\t\t\t\t\t</MediaP>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<BlueLine {...mediaProps}></BlueLine>\n\t\t\t\t\t\t\t</InputSelectItem>\n\n\t\t\t\t\t\t\t<InputSelectItem\n\t\t\t\t\t\t\t\tonClick={() => setInputShown('link')}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<InputTypeSVG\n\t\t\t\t\t\t\t\t\t\tas={RiLinksLine}\n\t\t\t\t\t\t\t\t\t\t{...linkProps}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<LinkP {...linkProps}>Link</LinkP>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<BlueLine {...linkProps}></BlueLine>\n\t\t\t\t\t\t\t</InputSelectItem>\n\t\t\t\t\t\t</InputShownSelectContainer>\n\t\t\t\t\t\t<CreatePost\n\t\t\t\t\t\t\tonCancel={onCancel}\n\t\t\t\t\t\t\tonSubmit={onSubmit}\n\t\t\t\t\t\t\tsetTitle={setTitle}\n\t\t\t\t\t\t\tsetPostText={setPostText}\n\t\t\t\t\t\t\ttitle={title}\n\t\t\t\t\t\t\tpostText={postText}\n\t\t\t\t\t\t\tpostMedia={postMedia}\n\t\t\t\t\t\t\tsetPostMedia={setPostMedia}\n\t\t\t\t\t\t\tpostLink={postLink}\n\t\t\t\t\t\t\tsetPostLink={setPostLink}\n\t\t\t\t\t\t\tinputShown={inputShown}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</CreatePostContainer>\n\t\t\t\t</div>\n\t\t\t</FeedContainer>\n\t\t</Container>\n\t);\n}\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Container } from '../App';\nimport FeedContainer from '../layouts/FeedContainer';\n\nexport default function Home({\n\tposts,\n\tsortPosts,\n\tsortBy,\n\tviewPostComments,\n\tuser,\n}) {\n\treturn (\n\t\t<Container>\n\t\t\t<FeedContainer\n\t\t\t\tposts={posts}\n\t\t\t\tsortPosts={sortPosts}\n\t\t\t\tsortBy={sortBy}\n\t\t\t\tdisplayFeedSort={true}\n\t\t\t\tviewPostComments={viewPostComments}\n\t\t\t\tuser={user}\n\t\t\t></FeedContainer>\n\t\t</Container>\n\t);\n}\n\nHome.propTypes = {\n\tposts: PropTypes.array,\n\tsortBy: PropTypes.string,\n\tsortPosts: PropTypes.func,\n\tuser: PropTypes.any,\n\tviewPostComments: PropTypes.func,\n};\n","import PropTypes from 'prop-types';\nimport React, { useState, useEffect } from 'react';\nimport { GoArrowDown, GoArrowUp } from 'react-icons/go';\nimport { FaCommentAlt } from 'react-icons/fa';\nimport styled from 'styled-components';\nimport { ActionButton } from './PreviewContent';\nimport { Container as VoteArrowContainer } from './VoteContainer';\nimport { SVGarrow } from './PostContent';\nimport { v4 as uuidv4 } from 'uuid';\nimport {\n\tinsertReply,\n\tComment,\n\tsetCommentAsDeleted,\n\twithNewCommentVote,\n} from '../utils';\nimport firebase from '../firebase';\nimport formatDistance from 'date-fns/formatDistance';\nimport { CommentTextArea, CommentBtn } from './PostContent';\n\nconst Card = styled.div`\n\tdisplay: grid;\n\tgrid-template-columns: 40px 1fr;\n\tmargin: 16px 16px 16px 0;\n\tpadding-left: ${(props) => {\n\t\tif (props.depth > 0) {\n\t\t\tlet val = props.depth * 28;\n\t\t\tval = val.toString() + 'px';\n\t\t\treturn val;\n\t\t}\n\t}};\n`;\n\nconst ContentContainer = styled.div`\n\tgrid-column: 2;\n\tposition: relative;\n`;\n\nconst CommentInfo = styled.p`\n\tfont-size: 12px;\n\tmargin-bottom: 4px;\n\tpadding-left: 8px;\n\tcolor: ${(props) => props.theme.colors.gray};\n`;\nconst CommentBody = styled.p`\n\tmargin-bottom: 32px;\n\tpadding-left: 8px;\n\tpadding-right: 48px;\n`;\n\nconst BtnContainer = styled.div`\n\tposition: absolute;\n\tbottom: 4px;\n\tleft: 8px;\n`;\nconst Btn = styled(ActionButton)`\n\tpadding: 4px 8px;\n`;\n\nconst ReplyInputContainer = styled.div`\n\tgrid-column: 2;\n\tmargin-right: 64px;\n\tmargin-top: 16px;\n\tpadding-left: ${(props) => {\n\t\tlet val = props.depth * 28 + 76;\n\t\tval = val.toString() + 'px';\n\t\treturn val;\n\t}};\n\t@media screen and (max-width: 600px) {\n\t\tmargin-right: 8px;\n\t\tpadding-left: 40px;\n\t}\n`;\n\nconst ReplyTextAreaContainer = styled.div`\n\tmargin-top: 4px;\n\tpadding-left: 8px;\n\tborder-radius: 4px;\n\t&&:hover {\n\t\tborder: solid 0.5px black;\n\t}\n\tborder: solid 0.5px black;\n\tposition: relative;\n`;\n\nconst CancelBtn = styled.button`\n\tposition: absolute;\n\tbottom: 8px;\n\tright: 116px;\n\tcolor: ${(props) => props.theme.colors.blue};\n\tpadding: 6px 18px;\n\tbackground: white;\n\ttext-transform: uppercase;\n\toutline: none;\n\tborder: none;\n\t&&:hover {\n\t\tcolor: ${(props) => props.theme.colors.lightBlue};\n\t}\n`;\n\nconst Vote = styled.p`\n\tfont-size: ${(props) => props.theme.font.size.xs};\n\tcolor: ${(props) => {\n\t\tif (props.userVote === 'up') {\n\t\t\treturn props.theme.colors.red;\n\t\t} else if (props.userVote === 'down') {\n\t\t\treturn props.theme.colors.blue;\n\t\t} else {\n\t\t\treturn 'black';\n\t\t}\n\t}};\n\tpadding: 6px 0;\n\tcursor: default;\n\tfont-weight: bold;\n`;\n\nconst CommentSVG = styled.svg`\n\tposition: relative;\n\ttop: 2.5px;\n\tleft: -4px;\n`;\n\nconst VoteContainer = styled.div`\n\t&& > div {\n\t\tpadding: 2px 0 0 8px;\n\t}\n`;\n\nexport default function DisplayComments({\n\tcomment,\n\tpost,\n\tuser,\n\tsetModalContent,\n\tsetPostData,\n\tsetUser,\n\tcommentSortMethod,\n}) {\n\tconst [replyInput, setReplyInput] = useState();\n\tconst [isReplyContainerOpen, setIsReplyContainerOpen] = useState(false);\n\tconst [userVote, setUserVote] = useState(null);\n\n\tuseEffect(() => {\n\t\tconst checkForUserVote = () => {\n\t\t\tif (user.commentVotes.hasOwnProperty(comment.id)) {\n\t\t\t\tsetUserVote(user.commentVotes[comment.id]);\n\t\t\t}\n\t\t};\n\t\tuser.commentVotes && checkForUserVote();\n\t}, [userVote, setUserVote, comment.id, user.commentVotes]);\n\n\tconst submitReply = () => {\n\t\tconst depth = comment.depth + 1;\n\t\tconst commentInput = replyInput;\n\t\tconst username = user.username;\n\t\tconst newComment = Comment({ commentInput, username, depth });\n\t\t//insert reply function finds the correct id and adds the new comment to its replies\n\t\tconst withNewReply = insertReply(post, comment.id, newComment);\n\n\t\tfirebase\n\t\t\t.firestore()\n\t\t\t.collection('posts')\n\t\t\t.doc(post.id)\n\t\t\t.update({ replies: withNewReply })\n\t\t\t.then(() => setPostData({ ...post, replies: withNewReply }))\n\t\t\t.catch((err) => console.log(err));\n\t};\n\n\tconst deleteComment = () => {\n\t\tconst confirm = window.confirm(\n\t\t\t'Are you sure you want to delete this comment? There is no undo.'\n\t\t);\n\n\t\tif (confirm) {\n\t\t\tconst withDeleted = setCommentAsDeleted(post, comment.id);\n\n\t\t\tfirebase\n\t\t\t\t.firestore()\n\t\t\t\t.collection('posts')\n\t\t\t\t.doc(post.id)\n\t\t\t\t.update({ replies: withDeleted })\n\t\t\t\t.then(() => setPostData({ ...post, replies: withDeleted }))\n\t\t\t\t.catch((err) => console.log(err));\n\t\t}\n\t};\n\n\tconst castCommentVote = (e, direction) => {\n\t\te.stopPropagation();\n\n\t\tif (user.isSignedIn) {\n\t\t\tlet newVoteCount;\n\n\t\t\tif (user.commentVotes[comment.id] === direction) {\n\t\t\t\t//do nothing - this block is to filter out double votes\n\t\t\t} else {\n\t\t\t\tif (user.commentVotes[comment.id] === 'up') {\n\t\t\t\t\t//this block is to vote down after previously voting up\n\t\t\t\t\tnewVoteCount = comment.points - 2;\n\t\t\t\t} else if (user.commentVotes[comment.id] === 'down') {\n\t\t\t\t\t//this block is to vote up after previously voting down\n\t\t\t\t\tnewVoteCount = comment.points + 2;\n\t\t\t\t} else {\n\t\t\t\t\t//this block gets the direction for first vote\n\t\t\t\t\tdirection === 'up'\n\t\t\t\t\t\t? (newVoteCount = comment.points + 1)\n\t\t\t\t\t\t: (newVoteCount = comment.points - 1);\n\t\t\t\t}\n\t\t\t\t//update post state object\n\t\t\t\tconst updated = withNewCommentVote(\n\t\t\t\t\t{ ...post },\n\t\t\t\t\tcomment.id,\n\t\t\t\t\tnewVoteCount\n\t\t\t\t);\n\t\t\t\tsetPostData(updated);\n\n\t\t\t\t//update user state object\n\t\t\t\tconst newUserVotes = { ...user.commentVotes };\n\t\t\t\tnewUserVotes[comment.id] = direction;\n\t\t\t\tsetUser({ ...user, commentVotes: newUserVotes });\n\t\t\t\tsetUserVote(direction);\n\n\t\t\t\t//persist to firebase\n\t\t\t\tfirebase\n\t\t\t\t\t.firestore()\n\t\t\t\t\t.collection('posts')\n\t\t\t\t\t.doc(post.id)\n\t\t\t\t\t.update({ replies: updated.replies })\n\t\t\t\t\t.catch((err) => console.log(err));\n\n\t\t\t\tfirebase\n\t\t\t\t\t.firestore()\n\t\t\t\t\t.collection('users')\n\t\t\t\t\t.doc(user.uid)\n\t\t\t\t\t.update({ commentVotes: newUserVotes })\n\t\t\t\t\t.catch((err) => console.log(err));\n\t\t\t}\n\t\t} else {\n\t\t\tsetModalContent('signup');\n\t\t}\n\t};\n\n\tconst displayReplyContainer = () => {\n\t\tif (comment.depth >= 3) {\n\t\t\treturn alert(\n\t\t\t\t'Sorry, deeply nested replies are currently disabled.'\n\t\t\t);\n\t\t} else if (user.isSignedIn) {\n\t\t\treturn (\n\t\t\t\t<ReplyInputContainer depth={comment.depth}>\n\t\t\t\t\t<ReplyTextAreaContainer>\n\t\t\t\t\t\t<CommentTextArea\n\t\t\t\t\t\t\tplaceholder=\"What are your thoughts?\"\n\t\t\t\t\t\t\tvalue={replyInput}\n\t\t\t\t\t\t\tonChange={(e) => setReplyInput(e.target.value)}\n\t\t\t\t\t\t></CommentTextArea>\n\t\t\t\t\t\t<CancelBtn\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tonClick={() => setIsReplyContainerOpen(false)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tcancel\n\t\t\t\t\t\t</CancelBtn>\n\t\t\t\t\t\t<CommentBtn\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tonClick={submitReply}\n\t\t\t\t\t\t\tisSignedIn={user}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tcomment\n\t\t\t\t\t\t</CommentBtn>\n\t\t\t\t\t</ReplyTextAreaContainer>\n\t\t\t\t</ReplyInputContainer>\n\t\t\t);\n\t\t} else {\n\t\t\tsetModalContent('signup');\n\t\t}\n\t};\n\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<Card depth={comment.depth}>\n\t\t\t\t<VoteContainer as={VoteArrowContainer}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<SVGarrow\n\t\t\t\t\t\t\tas={GoArrowUp}\n\t\t\t\t\t\t\tonClick={(e) => castCommentVote(e, 'up')}\n\t\t\t\t\t\t\tdirection=\"up\"\n\t\t\t\t\t\t\tuservote={userVote}\n\t\t\t\t\t\t></SVGarrow>\n\t\t\t\t\t\t<Vote userVote={userVote}>{comment.points}</Vote>\n\t\t\t\t\t\t<SVGarrow\n\t\t\t\t\t\t\tas={GoArrowDown}\n\t\t\t\t\t\t\tonClick={(e) => castCommentVote(e, 'down')}\n\t\t\t\t\t\t\tdirection=\"down\"\n\t\t\t\t\t\t\tuservote={userVote}\n\t\t\t\t\t\t></SVGarrow>\n\t\t\t\t\t</div>\n\t\t\t\t</VoteContainer>\n\t\t\t\t<ContentContainer>\n\t\t\t\t\t<CommentInfo>\n\t\t\t\t\t\t{comment.deleted ? '[deleted]' : comment.username}{' '}\n\t\t\t\t\t\t{comment.points}{' '}\n\t\t\t\t\t\t{comment.points === 1 ? 'point' : 'points'} •{' '}\n\t\t\t\t\t\t{formatDistance(Date.now(), comment.timestamp)} ago\n\t\t\t\t\t</CommentInfo>\n\t\t\t\t\t<CommentBody>\n\t\t\t\t\t\t{comment.deleted ? '[deleted]' : comment.commentInput}\n\t\t\t\t\t</CommentBody>\n\n\t\t\t\t\t<BtnContainer>\n\t\t\t\t\t\t<Btn onClick={(e) => setIsReplyContainerOpen(true)}>\n\t\t\t\t\t\t\t<CommentSVG as={FaCommentAlt} />\n\t\t\t\t\t\t\tReply\n\t\t\t\t\t\t</Btn>\n\t\t\t\t\t\t{/* <Btn style={{ cursor: 'no-drop' }}>Share</Btn> */}\n\t\t\t\t\t\t{user.username === comment.username ? (\n\t\t\t\t\t\t\t<Btn onClick={() => deleteComment()}>Delete</Btn>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t</BtnContainer>\n\t\t\t\t</ContentContainer>\n\t\t\t</Card>\n\t\t\t{isReplyContainerOpen ? displayReplyContainer() : null}\n\n\t\t\t{/* recursively rendering to display unknown amount of replies */}\n\t\t\t{/* spreading the comment object because sort() will mutate state*/}\n\t\t\t{comment.replies &&\n\t\t\t\t{ ...comment }.replies.sort(commentSortMethod).map((reply) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<DisplayComments\n\t\t\t\t\t\t\tcomment={reply}\n\t\t\t\t\t\t\tkey={uuidv4()}\n\t\t\t\t\t\t\tpost={post}\n\t\t\t\t\t\t\tuser={user}\n\t\t\t\t\t\t\tsetModalContent={setModalContent}\n\t\t\t\t\t\t\tsetPostData={setPostData}\n\t\t\t\t\t\t\tsetUser={setUser}\n\t\t\t\t\t\t\tcommentSortMethod={commentSortMethod}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t</React.Fragment>\n\t);\n}\n\nDisplayComments.propTypes = {\n\tcomment: PropTypes.shape({\n\t\tcommentInput: PropTypes.string,\n\t\tdeleted: PropTypes.bool,\n\t\tdepth: PropTypes.number,\n\t\tid: PropTypes.string,\n\t\tpoints: PropTypes.number,\n\t\treplies: PropTypes.array,\n\t\ttimestamp: PropTypes.number,\n\t\tusername: PropTypes.string,\n\t}),\n\tcommentSortMethod: PropTypes.func,\n\tpost: PropTypes.shape({\n\t\tid: PropTypes.string,\n\t}),\n\tsetModalContent: PropTypes.func,\n\tsetPostData: PropTypes.func,\n\tsetUser: PropTypes.func,\n\tuser: PropTypes.shape({\n\t\tcommentVotes: PropTypes.object,\n\t\tisSignedIn: PropTypes.bool,\n\t\tuid: PropTypes.string,\n\t\tusername: PropTypes.string,\n\t}),\n};\n","import { useLayoutEffect, useState } from 'react';\n\nexport const useSearchBarPosition = (ref, dep) => {\n\tconst [searchBarBottom, setSearchBarBottom] = useState(0);\n\tconst [searchBarWidth, setSearchBarWidth] = useState(0);\n\tconst [searchBarLeft, setSearchBarLeft] = useState(0);\n\n\tuseLayoutEffect(() => {\n\t\tfunction updatePostion() {\n\t\t\tconst right = ref.current.getBoundingClientRect().right;\n\t\t\tconst left = ref.current.getBoundingClientRect().left;\n\t\t\tsetSearchBarBottom(ref.current.getBoundingClientRect().bottom);\n\t\t\tsetSearchBarLeft(left);\n\t\t\tsetSearchBarWidth(right - left);\n\t\t}\n\n\t\twindow.addEventListener('resize', updatePostion);\n\t\tupdatePostion();\n\n\t\treturn () => window.removeEventListener('resize', updatePostion);\n\t}, [searchBarLeft, searchBarWidth, searchBarBottom, ref, dep]);\n\n\treturn { searchBarBottom, searchBarWidth, searchBarLeft };\n};\n","import PropTypes from 'prop-types';\nimport React, { useContext, useState, useRef } from 'react';\nimport styled from 'styled-components';\nimport { PostContext } from '../PostContext';\nimport firebase from '../firebase';\nimport { Link, useHistory } from 'react-router-dom';\nimport { useSearchBarPosition } from '../hooks/useSearchBarPosition';\nimport { filterPosts } from '../utils';\nimport { BsFillPersonFill } from 'react-icons/bs';\nimport { FiLogIn } from 'react-icons/fi';\nimport { FaUserCircle } from 'react-icons/fa';\nimport { IoIosCreate } from 'react-icons/io';\nimport { useWindowWidth } from '../hooks/useWindowWidth';\n\nconst Container = styled.div`\n\tbackground: white;\n\theight: 48px;\n\tdisplay: flex;\n\tflex-direction: row;\n\talign-items: center;\n\tpadding: 0 16px;\n\tfont-family: ${(props) => props.theme.font.family[0]};\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tz-index: 1000;\n`;\n\nconst Circle = styled.div`\n\tborder-radius: 50%;\n\theight: 34px;\n\twidth: 34px;\n\tmin-width: 34px;\n\tbackground: rgb(255, 69, 0);\n\tmargin: 8px 8px 8px 0;\n`;\n\nconst Search = styled.input`\n\theight: 34px;\n\twidth: 100%;\n\tborder-radius: 4px;\n\tfont-size: 16px;\n\ttext-indent: 10px;\n\tborder: 0.5px solid rgb(0, 121, 211);\n\tmax-width: 598px;\n\tmargin: 0 auto;\n\t&&:hover {\n\t\tborder: 0.5px solid rgb(0, 121, 211);\n\t}\n`;\n\nexport const LoginBtn = styled.button`\n\tcolor: ${(props) => props.theme.colors.blue};\n\tbackground-color: white;\n\tborder: 1px solid ${(props) => props.theme.colors.blue};\n\tline-height: 24px;\n\tmargin-left: 16px;\n\t:hover {\n\t\tcolor: ${(props) => props.theme.colors.lightBlue};\n\t\tborder: 1px solid ${(props) => props.theme.colors.lightBlue};\n\t}\n`;\n\nexport const SignInBtn = styled.button`\n\tcolor: white;\n\tbackground-color: ${(props) => props.theme.colors.blue};\n\tborder: 1px solid white;\n\tline-height: 24px;\n\t:hover {\n\t\tbackground-color: ${(props) => props.theme.colors.lightBlue};\n\t}\n`;\n\nconst SearchResultsDropDown = styled.div`\n\tposition: absolute;\n\tmax-height: 360px;\n\toverflow: scroll;\n\twidth: ${(props) => props.width + 'px'};\n\ttop: ${(props) => props.top + 'px'};\n\tleft: ${(props) => props.left + 'px'};\n\tbackground: white;\n\tborder-bottom-right-radius: 4px;\n\tborder-bottom-left-radius: 4px;\n\tbox-shadow: 0px 0px 17px 2px rgba(0, 0, 0, 0.22);\n\tz-index: 1000;\n`;\n\nconst ResultCard = styled.div`\n\theight: 90px;\n\toverflow: hidden;\n\tpadding-left: 16px;\n\tpadding-right: 16px;\n\tpadding-bottom: 8px;\n\tborder-bottom-right-radius: 4px;\n\tborder-bottom-left-radius: 4px;\n\tcursor: pointer;\n\t&&:hover {\n\t\tbackground: ${(props) => props.theme.colors.veryLightGray};\n\t}\n`;\n\nconst ResultTitle = styled.div`\n\tcolor: ${(props) => props.theme.colors.blue};\n\tfont-size: ${(props) => props.theme.font.size.m};\n\tpadding: 12px 0 4px 0;\n\tcursor: pointer;\n`;\n\nconst ResultContent = styled.div`\n\tcolor: ${(props) => props.theme.colors.gray};\n\tpadding: 0 0 0 0;\n\tcursor: pointer;\n`;\n\nconst ProfileContainer = styled.div`\n\tpadding-left: 10px;\n\tdisplay: flex;\n\tflex-direction: row;\n`;\n\nconst ProfileDropdown = styled.div`\n\tposition: absolute;\n\ttop: ${(props) => props.top + 'px'};\n\tright: 8px;\n\twidth: 200px;\n\tborder-radius: 4px;\n\tbox-shadow: 0px 0px 17px 2px rgba(0, 0, 0, 0.22);\n\tz-index: 1000;\n\t&& > div:first-child {\n\t\tborder-top-left-radius: 4px;\n\t\tborder-top-right-radius: 4px;\n\t}\n\t&& > div:last-child {\n\t\tborder-bottom-left-radius: 4px;\n\t\tborder-bottom-right-radius: 4px;\n\t}\n`;\n\nconst SVG = styled.svg`\n\tcolor: ${(props) => props.theme.colors.grey};\n\tmargin-right: -8px;\n\tfont-size: 40px;\n\tcursor: pointer;\n`;\n\nconst SVGlogin = styled.svg`\n\tposition: relative;\n\tfont-size: 16px;\n\tcursor: pointer;\n\ttop: 1px;\n\tcolor: ${(props) => props.theme.colors.grey};\n`;\n\nconst ProfileItem = styled.div`\n\theight: 45px;\n\tbackground: white;\n\tcursor: ${(props) => (props.action ? 'pointer' : null)};\n\t&&:hover {\n\t\tbackground: ${(props) => props.theme.colors.blue};\n\t\tcolor: white;\n\t\t${SVGlogin} {\n\t\t\tcolor: white;\n\t\t}\n\t}\n\t&& > div {\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\tpadding-top: 14px;\n\t\tpadding-left: 16px;\n\t\tborder-radius: 4px;\n\t}\n\t&& > div > p {\n\t\tpadding-left: 16px;\n\t\tfont-size: 14px;\n\t}\n`;\n\nconst Title = styled.h2`\n\tpadding-right: 16px;\n\tcursor: pointer;\n`;\n\nexport default function Nav({ openModal, closeModal, viewPostComments }) {\n\tconst { user, setUser, posts } = useContext(PostContext);\n\tconst [searchInput, setSearchInput] = useState('');\n\tconst searchBarRef = useRef(null);\n\tconst {\n\t\tsearchBarWidth,\n\t\tsearchBarBottom,\n\t\tsearchBarLeft,\n\t} = useSearchBarPosition(searchBarRef, user.isSignedIn);\n\tconst [areSearchResultsOpen, setAreSearchResultsOpen] = useState(false);\n\tconst [searchResults, setSearchResults] = useState([]);\n\tconst [isProfileDropdownOpen, setIsProfileDropdownOpen] = useState(false);\n\tconst history = useHistory();\n\tconst [windowWidth, setWindowWidth] = useState();\n\tuseWindowWidth(setWindowWidth);\n\n\tconst handleSearchInput = (input) => {\n\t\tsetAreSearchResultsOpen(true);\n\t\tsetSearchInput(input);\n\n\t\tconst results = filterPosts(posts, searchInput);\n\t\tsetSearchResults(results);\n\t};\n\n\tconst viewSearchResult = (postId, url) => {\n\t\tviewPostComments(postId);\n\t\thistory.push(`/comments/${url}/${postId}`);\n\t\tsetAreSearchResultsOpen(false);\n\t\tsetSearchInput('');\n\t};\n\n\tconst logOutUser = () => {\n\t\tfirebase\n\t\t\t.auth()\n\t\t\t.signOut()\n\t\t\t.then(\n\t\t\t\t() => {\n\t\t\t\t\tcloseModal(null);\n\t\t\t\t\tsetUser(false);\n\t\t\t\t},\n\t\t\t\t(error) => {\n\t\t\t\t\tconsole.error('Sign Out Error', error);\n\t\t\t\t}\n\t\t\t);\n\t};\n\n\tconst displayLogInButtons = () => {\n\t\tif (user.isSignedIn || windowWidth < 640) {\n\t\t\treturn null;\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<LoginBtn\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\topenModal('login');\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\tlog in\n\t\t\t\t\t</LoginBtn>\n\t\t\t\t\t<SignInBtn\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\topenModal('signup');\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\tsign up\n\t\t\t\t\t</SignInBtn>\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\t\t}\n\t};\n\n\tconst handleProfileClick = () => {\n\t\tif (user.isSignedIn) {\n\t\t\tlogOutUser();\n\t\t\tsetIsProfileDropdownOpen(false);\n\t\t} else {\n\t\t\topenModal('login');\n\t\t\tsetIsProfileDropdownOpen(false);\n\t\t}\n\t};\n\n\treturn (\n\t\t<Container>\n\t\t\t<Circle as={Link} to=\"/\" />\n\n\t\t\t{windowWidth > 480 ? (\n\t\t\t\t<Title onClick={() => history.push('/')}>fpotfp</Title>\n\t\t\t) : null}\n\n\t\t\t<Search\n\t\t\t\ttype=\"text\"\n\t\t\t\tplaceholder=\"Search\"\n\t\t\t\tonChange={(e) => handleSearchInput(e.target.value)}\n\t\t\t\tvalue={searchInput}\n\t\t\t\tref={searchBarRef}\n\t\t\t\t// onBlur={removeSearchInputFocus}\n\t\t\t/>\n\n\t\t\t{areSearchResultsOpen && (\n\t\t\t\t<SearchResultsDropDown\n\t\t\t\t\ttop={searchBarBottom}\n\t\t\t\t\tleft={searchBarLeft}\n\t\t\t\t\twidth={searchBarWidth}\n\t\t\t\t\tonMouseLeave={() => setAreSearchResultsOpen(false)}\n\t\t\t\t>\n\t\t\t\t\t{/* it checks if there are search results and then */}\n\t\t\t\t\t{/* displays \"no results found\", the results or nothing */}\n\t\t\t\t\t{/* sorry future self for the nested ternary */}\n\t\t\t\t\t{searchInput.length > 0 && searchResults.length === 0 ? (\n\t\t\t\t\t\t<ResultCard key=\"no-results\">\n\t\t\t\t\t\t\t<ResultTitle></ResultTitle>\n\t\t\t\t\t\t\t<ResultContent>No results found...</ResultContent>\n\t\t\t\t\t\t</ResultCard>\n\t\t\t\t\t) : searchInput.length > 0 ? (\n\t\t\t\t\t\tsearchResults.map((post, index) => {\n\t\t\t\t\t\t\tconst url = post.title\n\t\t\t\t\t\t\t\t.replace(/\\W/g, '')\n\t\t\t\t\t\t\t\t.toLowerCase(); //remove all non-alphanumeric characters\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<ResultCard\n\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\tviewSearchResult(post.id, url)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ResultTitle>{post.title}</ResultTitle>\n\t\t\t\t\t\t\t\t\t<ResultContent>\n\t\t\t\t\t\t\t\t\t\t{post.postText}\n\t\t\t\t\t\t\t\t\t</ResultContent>\n\t\t\t\t\t\t\t\t</ResultCard>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})\n\t\t\t\t\t) : null}\n\t\t\t\t</SearchResultsDropDown>\n\t\t\t)}\n\n\t\t\t{displayLogInButtons()}\n\t\t\t<ProfileContainer>\n\t\t\t\t<SVG\n\t\t\t\t\tas={BsFillPersonFill}\n\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\tsetIsProfileDropdownOpen(!isProfileDropdownOpen)\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</ProfileContainer>\n\t\t\t{isProfileDropdownOpen ? (\n\t\t\t\t<ProfileDropdown\n\t\t\t\t\ttop={searchBarBottom}\n\t\t\t\t\tonMouseLeave={() => setIsProfileDropdownOpen(false)}\n\t\t\t\t>\n\t\t\t\t\t{user.isSignedIn ? (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<ProfileItem>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<SVGlogin as={FaUserCircle} />\n\t\t\t\t\t\t\t\t\t<p>{user.username}</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</ProfileItem>\n\t\t\t\t\t\t\t<ProfileItem\n\t\t\t\t\t\t\t\taction={'true'}\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\thistory.push('/submit');\n\t\t\t\t\t\t\t\t\tsetIsProfileDropdownOpen(false);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<SVGlogin as={IoIosCreate} />\n\t\t\t\t\t\t\t\t\t<p>Create Post</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</ProfileItem>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) : null}\n\n\t\t\t\t\t<ProfileItem\n\t\t\t\t\t\taction={'true'}\n\t\t\t\t\t\tonClick={() => handleProfileClick()}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<SVGlogin as={FiLogIn} />\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t{user.isSignedIn\n\t\t\t\t\t\t\t\t\t? 'Log Out'\n\t\t\t\t\t\t\t\t\t: 'Log In / Sign Up'}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</ProfileItem>\n\t\t\t\t</ProfileDropdown>\n\t\t\t) : null}\n\t\t</Container>\n\t);\n}\n\nNav.propTypes = {\n\tcloseModal: PropTypes.func,\n\topenModal: PropTypes.func,\n\tviewPostComments: PropTypes.func,\n};\n","import PropTypes from 'prop-types';\nimport React, { useState, useContext, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { GoArrowDown, GoArrowUp } from 'react-icons/go';\nimport { roundedGreyBorder } from '../GlobalStyle';\nimport formatDistance from 'date-fns/formatDistance';\nimport DisplayComments from './DisplayComments';\nimport { useWindowWidth } from '../hooks/useWindowWidth';\nimport { Comment } from '../utils';\nimport firebase from '../firebase';\nimport { LoginBtn, SignInBtn } from '../layouts/Nav';\nimport {\n\tContentContainer,\n\tInfoContainer,\n\tTitle,\n\tActionContainer,\n\tActionButton,\n} from './PreviewContent';\nimport { Container as VoteArrowContainer, Vote } from './VoteContainer';\nimport { v4 as uuidv4 } from 'uuid';\nimport { PostContext } from '../PostContext';\nimport { TiArrowSortedDown } from 'react-icons/ti';\nimport MediaPreview from './MediaPreview';\nimport LinkPreview from './LinkPreview';\n\nconst Container = styled.div`\n\twidth: 100%;\n\t${roundedGreyBorder}\n\tdisplay: grid;\n\tgrid-template-columns: 40px 1fr;\n\tgrid-template-rows: 1fr 32px;\n\tmargin-bottom: 12px;\n`;\n\nconst CommentAction = styled(ActionButton)``;\nconst Share = styled(ActionButton)``;\nconst Delete = styled(ActionButton)``;\n\nconst Body = styled.p`\n\tpadding: 4px 64px 8px 8px;\n`;\n\nconst CommentInputContainer = styled.div`\n\tgrid-column: 2;\n\tmargin-right: 64px;\n\tmargin-top: 16px;\n\tpadding-left: 8px;\n\t@media screen and (max-width: 475px) {\n\t\tgrid-column: 1 / 3;\n\t\tmargin-right: 8px;\n\t}\n`;\n\nconst CommentAsDisplayName = styled.p`\n\tfont-size: 12px;\n\tpadding-top: 8px;\n`;\n\nexport const CommentTextAreaContainer = styled.div`\n\tmargin-top: 4px;\n\tpadding-left: 8px;\n\tborder-radius: 4px;\n\t&&:hover {\n\t\tborder: solid 0.5px black;\n\t}\n\tborder: solid 0.5px black;\n\tposition: relative;\n`;\n\nexport const CommentTextArea = styled.textarea`\n\twidth: 100%;\n\tfont-size: 14px;\n\tmin-height: 86px;\n\tpadding: 16px 0 0 16px;\n\tmargin-bottom: 34px;\n\tmax-width: 95%;\n\toutline: none;\n\tborder: none;\n\t@media screen and (max-width: 420px) {\n\t\tpadding-left: 0;\n\t\tmax-width: 96%;\n\t}\n`;\n\nexport const CommentBtn = styled.button`\n\tposition: absolute;\n\tborder: none;\n\tbottom: 8px;\n\tright: 8px;\n\tcolor: white;\n\tpadding: 6px 18px;\n\tbackground: ${(props) => props.theme.colors.blue};\n\ttext-transform: uppercase;\n\t&&:hover {\n\t\tbackground: ${(props) => props.theme.colors.lightBlue};\n\t}\n`;\n\nconst SortByContainer = styled.div`\n\tgrid-column: 2;\n\tmargin-top: 24px;\n\tpadding-left: 8px;\n\tmargin-bottom: 48px;\n\tdisplay: flex;\n\tflex-direction: row;\n\t&& > p:first-child {\n\t\tfont-size: 11px;\n\t\ttext-transform: uppercase;\n\t\tcolor: ${(props) => props.theme.colors.gray};\n\t\tposition: relative;\n\t\ttop: 3px;\n\t}\n`;\n\nconst CommentContainer = styled.div`\n\tgrid-column: 1 / 3;\n`;\n\nconst LogInPrompt = styled.div`\n\tgrid-column: 2;\n\tmargin: 16px 0 0 12px;\n\tpadding: 12px 8px;\n\tposition: relative;\n`;\nconst Prompt = styled.p`\n\tdisplay: inline;\n\tcolor: ${(props) => props.theme.colors.gray};\n`;\n\nconst LoginSigninBtnContainer = styled.div`\n\tdisplay: inline;\n\tposition: absolute;\n\tright: 48px;\n`;\n\nexport const SVGarrow = styled.svg`\n\tborder-radius: 4px;\n\tcolor: ${(props) => {\n\t\tif (props.direction === props.uservote) {\n\t\t\treturn props.direction === 'up'\n\t\t\t\t? props.theme.colors.red\n\t\t\t\t: props.theme.colors.blue;\n\t\t}\n\t}};\n\tbackground-color: ${(props) =>\n\t\tprops.direction === props.uservote\n\t\t\t? props.theme.colors.lightGray\n\t\t\t: null};\n\t&&:hover {\n\t\tcolor: ${(props) =>\n\t\t\tprops.direction === 'up'\n\t\t\t\t? props.theme.colors.red\n\t\t\t\t: props.theme.colors.blue};\n\t\tbackground-color: ${(props) => props.theme.colors.lightGray};\n\t\tcursor: pointer;\n\t}\n`;\n\nconst SortOptionsSelect = styled.div`\n\tcursor: pointer;\n\tdisplay: flex;\n\tflex-direction: row;\n\tmargin-left: 8px;\n\tposition: relative;\n`;\nconst SortP = styled.p`\n\ttext-transform: uppercase;\n\tcolor: ${(props) => props.theme.colors.gray};\n\tfont-size: 14px;\n`;\nconst SortSVG = styled.svg`\n\tcolor: ${(props) => props.theme.colors.gray};\n\tposition: relative;\n\ttop: 2px;\n\tpadding-left: 4px;\n`;\nconst SortOptionsList = styled.div`\n\tbackground: white;\n\tposition: absolute;\n\ttop: 22px;\n\twidth: 80px;\n\tborder-radius: 4px;\n\tz-index: 1001;\n\tbox-shadow: 0px 0px 17px 2px rgba(0, 0, 0, 0.22);\n\t&& > div:first-child {\n\t\tborder-top-left-radius: 4px;\n\t\tborder-top-right-radius: 4px;\n\t}\n\t&& > div:last-child {\n\t\tborder-bottom-left-radius: 4px;\n\t\tborder-bottom-right-radius: 4px;\n\t}\n`;\nconst SortOption = styled.div`\n\theight: 32px;\n\tfont-size: 14px;\n\tcolor: ${(props) => props.theme.colors.gray};\n\t&&:hover {\n\t\tbackground-color: ${(props) => props.theme.colors.blue};\n\t\tcolor: white;\n\t}\n\t&& > p {\n\t\tpadding: 8px;\n\t\ttext-transform: capitalize;\n\t}\n`;\n\nexport default function PostContent({\n\tpost,\n\tuser,\n\tsetModalContent,\n\tsetPostData,\n\tsetUser,\n}) {\n\tconst [commentInput, setCommentInput] = useState();\n\tconst [width, setWidth] = useState();\n\tconst { castPostVote, posts, setPosts } = useContext(PostContext);\n\tconst [userVote, setUserVote] = useState();\n\tuseWindowWidth(setWidth);\n\tconst [commentSortMethod, setCommentSortMethod] = useState('top');\n\tconst [areSortOptionsVisible, setAreSortOptionsVisible] = useState(false);\n\n\t//detect if user has previously voted on this specific post\n\tuseEffect(() => {\n\t\tconst checkForUserVote = () => {\n\t\t\tif (user.postVotes.hasOwnProperty(post.id)) {\n\t\t\t\tsetUserVote(user.postVotes[post.id]);\n\t\t\t}\n\t\t};\n\t\tuser.postVotes && checkForUserVote();\n\t}, [userVote, setUserVote, post, user.postVotes]);\n\n\tconst submitTopLevelComment = () => {\n\t\tconst { username } = user;\n\t\tlet newComment = Comment({ commentInput, username });\n\t\tfirebase\n\t\t\t.firestore()\n\t\t\t.collection('posts')\n\t\t\t.doc(post.id)\n\t\t\t.update({\n\t\t\t\treplies: [...post.replies, newComment],\n\t\t\t})\n\t\t\t.then(() => {\n\t\t\t\tsetPostData({\n\t\t\t\t\t...post,\n\t\t\t\t\treplies: [...post.replies, newComment],\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch((err) => console.log(err));\n\t};\n\n\tconst commentSortMethods = {\n\t\ttop: (a, b) => (a.points <= b.points ? 1 : -1),\n\t\tnew: (a, b) => (a.timestamp <= b.timestamp ? 1 : -1),\n\t\told: (a, b) => (a.timestamp >= b.timestamp ? 1 : -1),\n\t};\n\n\tconst deletePost = () => {\n\t\tconst response = window.confirm(\n\t\t\t'Are you sure you want to delete this post? This cannot be undone.'\n\t\t);\n\t\tif (response) {\n\t\t\tconst withPostDeleted = posts.map((p) => {\n\t\t\t\tif (p.id === post.id) {\n\t\t\t\t\tp.deleted = true;\n\t\t\t\t}\n\t\t\t\treturn p;\n\t\t\t});\n\n\t\t\tsetPosts(withPostDeleted);\n\n\t\t\tfirebase\n\t\t\t\t.firestore()\n\t\t\t\t.collection('posts')\n\t\t\t\t.doc(post.id)\n\t\t\t\t.update({ deleted: true })\n\t\t\t\t.catch((err) => console.log(err));\n\t\t}\n\t};\n\n\tconst displayPostType = () => {\n\t\tif (post.deleted) {\n\t\t\treturn (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<Title>[deleted]</Title>\n\t\t\t\t\t<Body>[deleted]</Body>\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\t\t} else if (post.postType === 'post') {\n\t\t\treturn (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<Title>{post.title}</Title>\n\t\t\t\t\t<Body>{post.postText}</Body>\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\t\t} else if (post.postType === 'media') {\n\t\t\treturn <MediaPreview title={post.title} media={post.postMedia} />;\n\t\t} else if (post.postType === 'link') {\n\t\t\treturn (\n\t\t\t\t<LinkPreview\n\t\t\t\t\ttitle={post.title}\n\t\t\t\t\turl={post.postLink}\n\t\t\t\t\tpreview={post.linkPreview}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t};\n\n\treturn (\n\t\t<Container>\n\t\t\t<VoteArrowContainer>\n\t\t\t\t<div>\n\t\t\t\t\t<SVGarrow\n\t\t\t\t\t\tas={GoArrowUp}\n\t\t\t\t\t\tonClick={(e) =>\n\t\t\t\t\t\t\tcastPostVote(\n\t\t\t\t\t\t\t\te,\n\t\t\t\t\t\t\t\t'up',\n\t\t\t\t\t\t\t\tpost.id,\n\t\t\t\t\t\t\t\tpost.vote,\n\t\t\t\t\t\t\t\tsetUserVote,\n\t\t\t\t\t\t\t\t'comments'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdirection={'up'}\n\t\t\t\t\t\tuservote={userVote}\n\t\t\t\t\t/>\n\t\t\t\t\t<Vote>{post.vote}</Vote>\n\t\t\t\t\t<SVGarrow\n\t\t\t\t\t\tas={GoArrowDown}\n\t\t\t\t\t\tonClick={(e) =>\n\t\t\t\t\t\t\tcastPostVote(\n\t\t\t\t\t\t\t\te,\n\t\t\t\t\t\t\t\t'down',\n\t\t\t\t\t\t\t\tpost.id,\n\t\t\t\t\t\t\t\tpost.vote,\n\t\t\t\t\t\t\t\tsetUserVote,\n\t\t\t\t\t\t\t\t'comments'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdirection={'down'}\n\t\t\t\t\t\tuservote={userVote}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</VoteArrowContainer>\n\n\t\t\t<ContentContainer>\n\t\t\t\t<InfoContainer>\n\t\t\t\t\t<p>Posted by {post.username}</p>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t{post.timestamp\n\t\t\t\t\t\t\t? formatDistance(Date.now(), post.timestamp, {\n\t\t\t\t\t\t\t\t\tincludeSeconds: true,\n\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t\t: null}{' '}\n\t\t\t\t\t\tago\n\t\t\t\t\t</p>\n\t\t\t\t</InfoContainer>\n\t\t\t\t{/* <Body>{post.postText}</Body> */}\n\t\t\t\t{displayPostType()}\n\t\t\t</ContentContainer>\n\n\t\t\t<ActionContainer>\n\t\t\t\t<CommentAction>\n\t\t\t\t\t{post.replies.length}{' '}\n\t\t\t\t\t{post.replies.length === 1 ? 'comment' : 'comments'}\n\t\t\t\t</CommentAction>\n\t\t\t\t<Share>share</Share>\n\t\t\t\t{user.username === post.username ? (\n\t\t\t\t\t<Delete onClick={() => deletePost()}>Delete</Delete>\n\t\t\t\t) : null}\n\t\t\t</ActionContainer>\n\n\t\t\t{user.isSignedIn ? (\n\t\t\t\t<CommentInputContainer>\n\t\t\t\t\t<CommentAsDisplayName>\n\t\t\t\t\t\tComment as {user.username}\n\t\t\t\t\t</CommentAsDisplayName>\n\t\t\t\t\t<CommentTextAreaContainer>\n\t\t\t\t\t\t<CommentTextArea\n\t\t\t\t\t\t\tplaceholder=\"What are your thoughts?\"\n\t\t\t\t\t\t\tvalue={commentInput}\n\t\t\t\t\t\t\tonChange={(e) => setCommentInput(e.target.value)}\n\t\t\t\t\t\t></CommentTextArea>\n\t\t\t\t\t\t<CommentBtn\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tonClick={submitTopLevelComment}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tcomment\n\t\t\t\t\t\t</CommentBtn>\n\t\t\t\t\t</CommentTextAreaContainer>\n\t\t\t\t</CommentInputContainer>\n\t\t\t) : (\n\t\t\t\t<LogInPrompt>\n\t\t\t\t\t<Prompt>Log in or sign up to leave a comment</Prompt>\n\t\t\t\t\t{width > 560 ? (\n\t\t\t\t\t\t<LoginSigninBtnContainer>\n\t\t\t\t\t\t\t<LoginBtn onClick={() => setModalContent('login')}>\n\t\t\t\t\t\t\t\tLog In\n\t\t\t\t\t\t\t</LoginBtn>\n\t\t\t\t\t\t\t<SignInBtn\n\t\t\t\t\t\t\t\tonClick={() => setModalContent('signup')}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tSign Up\n\t\t\t\t\t\t\t</SignInBtn>\n\t\t\t\t\t\t</LoginSigninBtnContainer>\n\t\t\t\t\t) : null}\n\t\t\t\t</LogInPrompt>\n\t\t\t)}\n\n\t\t\t<SortByContainer>\n\t\t\t\t<p>sort by</p>\n\t\t\t\t<SortOptionsSelect\n\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\tsetAreSortOptionsVisible(!areSortOptionsVisible)\n\t\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t\t<SortP>{commentSortMethod}</SortP>\n\t\t\t\t\t<SortSVG as={TiArrowSortedDown}></SortSVG>\n\t\t\t\t\t{areSortOptionsVisible ? (\n\t\t\t\t\t\t<SortOptionsList\n\t\t\t\t\t\t\tonMouseLeave={() => setAreSortOptionsVisible(false)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<SortOption\n\t\t\t\t\t\t\t\tonClick={() => setCommentSortMethod('top')}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<p>top</p>\n\t\t\t\t\t\t\t</SortOption>\n\t\t\t\t\t\t\t<SortOption\n\t\t\t\t\t\t\t\tonClick={() => setCommentSortMethod('new')}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<p>new</p>\n\t\t\t\t\t\t\t</SortOption>\n\t\t\t\t\t\t\t<SortOption\n\t\t\t\t\t\t\t\tonClick={() => setCommentSortMethod('old')}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<p>old</p>\n\t\t\t\t\t\t\t</SortOption>\n\t\t\t\t\t\t</SortOptionsList>\n\t\t\t\t\t) : null}\n\t\t\t\t</SortOptionsSelect>\n\t\t\t</SortByContainer>\n\n\t\t\t<CommentContainer>\n\t\t\t\t{{ ...post }.replies\n\t\t\t\t\t.sort(commentSortMethods[commentSortMethod])\n\t\t\t\t\t.map((comment) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<DisplayComments\n\t\t\t\t\t\t\t\tcomment={comment}\n\t\t\t\t\t\t\t\tkey={uuidv4()}\n\t\t\t\t\t\t\t\tpost={post}\n\t\t\t\t\t\t\t\tuser={user}\n\t\t\t\t\t\t\t\tsetModalContent={setModalContent}\n\t\t\t\t\t\t\t\tsetPostData={setPostData}\n\t\t\t\t\t\t\t\tsetUser={setUser}\n\t\t\t\t\t\t\t\tcommentSortMethod={\n\t\t\t\t\t\t\t\t\tcommentSortMethods[commentSortMethod]\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t</CommentContainer>\n\t\t</Container>\n\t);\n}\n\nPostContent.propTypes = {\n\tpost: PropTypes.shape({\n\t\tdeleted: PropTypes.bool,\n\t\tid: PropTypes.any,\n\t\tlinkPreview: PropTypes.string,\n\t\tpostLink: PropTypes.string,\n\t\tpostMedia: PropTypes.any,\n\t\tpostText: PropTypes.string,\n\t\tpostType: PropTypes.string,\n\t\treplies: PropTypes.array,\n\t\ttimestamp: PropTypes.any,\n\t\ttitle: PropTypes.string,\n\t\tusername: PropTypes.string,\n\t\tvote: PropTypes.number,\n\t}),\n\tsetModalContent: PropTypes.func,\n\tsetPostData: PropTypes.func,\n\tsetUser: PropTypes.func,\n\tuser: PropTypes.any,\n};\n","import PropTypes from 'prop-types';\nimport React, { useEffect, useContext } from 'react';\n// import { useParams } from 'react-router-dom';\nimport FeedContainer from '../layouts/FeedContainer';\nimport { Container } from '../App';\nimport { PostContext } from '../PostContext';\nimport PostContent from '../components/PostContent';\nimport { useParams } from 'react-router';\n\nconst tempPost = {\n\tid: 1,\n\ttitle: '',\n\tusername: '',\n\tvote: 0,\n\ttimestamp: '',\n\tpostText: '',\n\treplies: [],\n};\n\nexport default function Comments({\n\tsetModalContent,\n\tcurrentPost,\n\tpostData,\n\tviewPostComments,\n\tsetPostData,\n\tsetUser,\n}) {\n\tconst { user } = useContext(PostContext);\n\tconst { id } = useParams();\n\n\tuseEffect(() => {\n\t\t// if the user goes to a post without being directed from home page,\n\t\t// this will get the correct data\n\t\tif (!postData) {\n\t\t\tviewPostComments(id);\n\t\t}\n\t\t// if (window.pageYOffset !== 0) {\n\t\t// \twindow.scrollTo(0, 0);\n\t\t// }\n\t}, [id, postData, viewPostComments]);\n\n\treturn (\n\t\t<Container>\n\t\t\t<FeedContainer displayFeedSort={false}>\n\t\t\t\t<PostContent\n\t\t\t\t\tpost={postData ? postData : tempPost}\n\t\t\t\t\tuser={user}\n\t\t\t\t\tsetModalContent={setModalContent}\n\t\t\t\t\tviewPostComments={viewPostComments}\n\t\t\t\t\tsetPostData={setPostData}\n\t\t\t\t\tsetUser={setUser}\n\t\t\t\t/>\n\t\t\t</FeedContainer>\n\t\t</Container>\n\t);\n}\n\nComments.propTypes = {\n\tcurrentPost: PropTypes.object,\n\tpostData: PropTypes.object,\n\tsetModalContent: PropTypes.func,\n\tsetPostData: PropTypes.func,\n\tsetUser: PropTypes.func,\n\tviewPostComments: PropTypes.func,\n};\n","import PropTypes from 'prop-types';\nimport React, { useEffect } from 'react';\nimport styled from 'styled-components';\nimport { IoMdClose } from 'react-icons/io';\n\nconst Background = styled.div`\n\theight: 120vh;\n\twidth: 100%;\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\tmargin: auto;\n\tbackground-color: rgba(0, 0, 0, 0.5);\n\tdisplay: flex;\n\tjustify-content: space-around;\n\talign-items: center;\n\tz-index: 1005;\n`;\nconst Foreground = styled.div`\n\theight: 550px;\n\twidth: 100%;\n\tmax-width: 750px;\n\tmargin: auto;\n\tborder-radius: 4px;\n\tbackground: white;\n\t@media screen and (max-width: 750px) {\n\t\twidth: calc(100% - 32px);\n\t}\n\t@media screen and (max-width: 375px) {\n\t\twidth: calc(100% - 16px);\n\t}\n`;\n\nconst Container = styled.div`\n\tborder-radius: 4px;\n\twidth: 100%;\n\theight: 100%;\n\tdisplay: flex;\n\tflex-direction: row;\n`;\n\nconst Art = styled.div`\n\theight: 100%;\n\twidth: 130px;\n\tbackground: rgba(0, 0, 0, 0);\n\tbackground-color: lightgrey;\n\tborder-top-left-radius: 4px;\n\tborder-bottom-left-radius: 4px;\n\t@media screen and (max-width: 600px) {\n\t\tdisplay: none;\n\t}\n`;\n\nconst Content = styled.div`\n\theight: 540px;\n\twidth: 100%;\n\tmargin: 5px 5px 5px 0;\n\tdisplay: flex;\n\tflex-direction: column;\n`;\n\nconst CloseContainer = styled.div`\n\twidth: 100%;\n\theight: 220px;\n\tposition: relative;\n`;\n\nconst Close = styled.svg`\n\tposition: absolute;\n\ttop: 12px;\n\tright: 16px;\n\tfont-size: 30px;\n\tcolor: ${(props) => props.theme.colors.gray};\n\t&&:hover {\n\t\tcursor: pointer;\n\t}\n`;\n\nexport default function Modal({ closeModal, children }) {\n\tuseEffect(() => {\n\t\tdocument.body.style.overflow = 'hidden';\n\t\treturn () => (document.body.style.overflow = 'unset');\n\t}, []);\n\n\treturn (\n\t\t<Background onClick={closeModal}>\n\t\t\t<Foreground onClick={(e) => e.stopPropagation()}>\n\t\t\t\t<Container>\n\t\t\t\t\t<Art />\n\t\t\t\t\t<Content>\n\t\t\t\t\t\t<CloseContainer>\n\t\t\t\t\t\t\t<Close as={IoMdClose} onClick={closeModal} />\n\t\t\t\t\t\t</CloseContainer>\n\t\t\t\t\t\t{children}\n\t\t\t\t\t</Content>\n\t\t\t\t</Container>\n\t\t\t</Foreground>\n\t\t</Background>\n\t);\n}\n\nModal.propTypes = {\n\tchildren: PropTypes.node,\n\tcloseModal: PropTypes.func,\n};\n","import { useEffect } from 'react';\n\nconst useInitialFocus = (ref) => {\n\tuseEffect(() => {\n\t\tref.current.focus();\n\t}, [ref]);\n};\n\nexport default useInitialFocus;\n","import PropTypes from 'prop-types';\nimport React, { useContext, useState, useRef } from 'react';\nimport styled from 'styled-components';\nimport { PostContext } from '../PostContext';\nimport useInitialFocus from '../hooks/useInitialFocus';\nimport { createUserAccount } from '../firebase';\nimport firebase from '../firebase';\n\nconst WordsContainer = styled.div`\n\twidth: 432px;\n\tleft: 0;\n\theight: 100%;\n\tpadding-left: 24px;\n`;\n\nconst Input = styled.input`\n\tfont-size: ${(props) => props.theme.font.size.m};\n\twidth: 392px;\n\tpadding: 8px 24px 8px 16px;\n\tborder-radius: 4px;\n\ttext-indent: 10px;\n\toutline: none;\n\tborder: 0.5px solid ${(props) => props.theme.colors.lightGray};\n\tdisplay: block;\n\tmargin-bottom: 32px;\n\ttext-indent: 4px;\n`;\n\nconst UserNameInput = styled(Input)`\n\tmargin-bottom: 24px;\n`;\nconst PasswordInput = styled(Input)``;\nconst EmailInput = styled(Input)``;\nconst Title = styled.h3`\n\tmargin-bottom: 16px;\n`;\n\nconst SignUpBtn = styled.button`\n\twidth: 178px;\n\theight: 40px;\n\tpadding: 8px;\n\tbackground-color: ${(props) => props.theme.colors.blue};\n\tcolor: white;\n\ttext-transform: uppercase;\n\tfont-size: ${(props) => props.theme.font.size.s};\n\ttext-align: center;\n\tborder: none;\n\tmargin: 0 0 8px 0;\n\t&&:hover {\n\t\tbackground-color: ${(props) => props.theme.colors.lightBlue};\n\t}\n`;\n\nconst P1 = styled.p`\n\tdisplay: inline;\n\tmargin-right: 4px;\n\tfont-size: 12px;\n`;\nconst P2 = styled.p`\n\tdisplay: inline;\n\tfont-size: 12px;\n\tcursor: pointer;\n\tcolor: ${(props) => props.theme.colors.blue};\n`;\n\nexport const InvalidInputNotification = styled.p`\n\tcolor: ${(props) => props.theme.colors.red};\n\tfont-size: ${(props) => props.theme.font.size.xs};\n\tpadding-bottom: 4px;\n`;\n\nexport const NotificationSpacer = styled.div`\n\theight: 14px;\n\tpadding-bottom: 4px;\n`;\n\nexport default function SignUp({ showLogIn, closeModal }) {\n\tconst [username, setUsername] = useState('');\n\tconst [password, setPassword] = useState('');\n\tconst [email, setEmail] = useState('');\n\tconst [isUsernameUnique, setIsUsernameUnique] = useState(true);\n\tconst { setUser } = useContext(PostContext);\n\tconst input = useRef(null);\n\tuseInitialFocus(input);\n\n\tconst createUser = (e) => {\n\t\t//check username here\n\t\te.preventDefault();\n\t\tif (isUsernameUnique) {\n\t\t\tcreateUserAccount(username, email, password, setUser);\n\t\t\tsetUsername('');\n\t\t\tsetPassword('');\n\t\t\tcloseModal();\n\t\t}\n\t};\n\n\tconst checkUsernameAvailable = () => {\n\t\tif (username.length >= 1) {\n\t\t\tfirebase\n\t\t\t\t.firestore()\n\t\t\t\t.collection('usernames')\n\t\t\t\t.doc(username)\n\t\t\t\t.get()\n\t\t\t\t.then((doc) =>\n\t\t\t\t\tdoc.exists\n\t\t\t\t\t\t? setIsUsernameUnique(false)\n\t\t\t\t\t\t: setIsUsernameUnique(true)\n\t\t\t\t)\n\t\t\t\t.catch((err) => console.log(err));\n\t\t}\n\t};\n\n\treturn (\n\t\t<WordsContainer>\n\t\t\t<Title>\n\t\t\t\tBy having an account, you can join, vote, and comment on all\n\t\t\t\tyour favorite content.\n\t\t\t</Title>\n\t\t\t<form onSubmit={createUser}>\n\t\t\t\t{isUsernameUnique ? (\n\t\t\t\t\t<NotificationSpacer />\n\t\t\t\t) : (\n\t\t\t\t\t<InvalidInputNotification>\n\t\t\t\t\t\tSorry, this username is already taken\n\t\t\t\t\t</InvalidInputNotification>\n\t\t\t\t)}\n\t\t\t\t<UserNameInput\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tfocus\n\t\t\t\t\trequired\n\t\t\t\t\tplaceholder=\"Username\"\n\t\t\t\t\tvale={username}\n\t\t\t\t\tref={input}\n\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\tsetUsername(e.target.value);\n\t\t\t\t\t\tsetIsUsernameUnique(true);\n\t\t\t\t\t}}\n\t\t\t\t\tonBlur={() => checkUsernameAvailable()}\n\t\t\t\t\tmaxLength=\"15\"\n\t\t\t\t/>\n\n\t\t\t\t<EmailInput\n\t\t\t\t\ttype=\"email\"\n\t\t\t\t\tfocus\n\t\t\t\t\trequired\n\t\t\t\t\tplaceholder=\"Email\"\n\t\t\t\t\tvale={email}\n\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\n\t\t\t\t\tmaxLength=\"64\"\n\t\t\t\t/>\n\t\t\t\t<PasswordInput\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\trequired\n\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t\tvale={password}\n\t\t\t\t\tonChange={(e) => setPassword(e.target.value)}\n\t\t\t\t\tminLength=\"6\"\n\t\t\t\t\tmaxLength=\"128\"\n\t\t\t\t/>\n\t\t\t\t<SignUpBtn type=\"submit\">Sign Up</SignUpBtn>\n\t\t\t</form>\n\t\t\t<P1>Already have an account?</P1>\n\t\t\t<P2 onClick={() => showLogIn()}>LOG IN</P2>\n\t\t</WordsContainer>\n\t);\n}\n\nSignUp.propTypes = {\n\tcloseModal: PropTypes.func,\n\tshowLogIn: PropTypes.func,\n};\n","import PropTypes from 'prop-types';\nimport React, { useContext, useState, useRef } from 'react';\nimport styled from 'styled-components';\nimport { PostContext } from '../PostContext';\nimport { logInExistingUser } from '../firebase';\nimport { InvalidInputNotification, NotificationSpacer } from './SignUp';\n\nimport useInitialFocus from '../hooks/useInitialFocus';\n\nconst Container = styled.div`\n\tleft: 0;\n\tright: 0;\n\theight: 100%;\n`;\n\nconst FormContainer = styled.div`\n\twidth: 100%;\n\theight: 100%;\n\tpadding-left: 24px;\n\tmax-width: 432px;\n\n\t@media screen and (max-width: 500px) {\n\t\tmargin: 0 auto;\n\t\tpadding: 8px 0 8px 0;\n\t\twidth: calc(100% - 24px);\n\t}\n`;\n\nconst Form = styled.form`\n\twidth: 100%;\n`;\n\nconst Input = styled.input`\n\tfont-size: ${(props) => props.theme.font.size.m};\n\twidth: 100%;\n\tmax-width: calc(100% - 34px);\n\tdisplay: block;\n\tpadding: 8px 16px 8px 16px;\n\tborder-radius: 4px;\n\ttext-indent: 10px;\n\toutline: none;\n\tborder: 0.5px solid ${(props) => props.theme.colors.lightGray};\n\tdisplay: block;\n\tmargin-bottom: 32px;\n\ttext-indent: 4px;\n`;\n\nconst EmailInput = styled(Input)`\n\tmargin-bottom: 24px;\n`;\nconst PasswordInput = styled(Input)``;\nconst Title = styled.h3`\n\tmargin-bottom: 16px;\n`;\n\nconst SignInBtn = styled.button`\n\twidth: 178px;\n\theight: 40px;\n\tpadding: 8px;\n\tbackground-color: ${(props) => props.theme.colors.blue};\n\tcolor: white;\n\ttext-transform: uppercase;\n\tfont-size: ${(props) => props.theme.font.size.s};\n\ttext-align: center;\n\tborder: none;\n\tmargin: 0 0 8px 0;\n\t&&:hover {\n\t\tbackground-color: ${(props) => props.theme.colors.lightBlue};\n\t}\n`;\n\nconst P1 = styled.p`\n\tdisplay: inline;\n\tmargin-right: 4px;\n\tfont-size: 12px;\n`;\nconst P2 = styled.p`\n\tdisplay: inline;\n\tfont-size: 12px;\n\tcursor: pointer;\n\tcolor: ${(props) => props.theme.colors.blue};\n`;\n\nexport default function LogIn({\n\tshowSignUp,\n\tcloseModal,\n\tsetModalContent,\n\tisAuthErrorShown,\n\tsetIsAuthErrorShown,\n}) {\n\t// pass open modal here\n\tconst [email, setEmail] = useState('');\n\tconst [password, setPassword] = useState('');\n\tconst { setUser, user } = useContext(PostContext);\n\tconst input = useRef(null);\n\tuseInitialFocus(input);\n\n\tconst logInUser = (e) => {\n\t\te.preventDefault();\n\t\tlogInExistingUser(\n\t\t\temail,\n\t\t\tpassword,\n\t\t\tsetUser,\n\t\t\tuser,\n\t\t\tsetModalContent,\n\t\t\tsetIsAuthErrorShown\n\t\t); // replace null with modal open\n\n\t\tsetEmail('');\n\t\tsetPassword('');\n\t\tcloseModal();\n\t};\n\n\tconst resetAuthError = () => {\n\t\tif (isAuthErrorShown) {\n\t\t\tsetIsAuthErrorShown(false);\n\t\t}\n\t};\n\n\treturn (\n\t\t<Container>\n\t\t\t<FormContainer>\n\t\t\t\t<Title>Sign In</Title>\n\t\t\t\t<Form onSubmit={logInUser}>\n\t\t\t\t\t{isAuthErrorShown ? (\n\t\t\t\t\t\t<InvalidInputNotification>\n\t\t\t\t\t\t\tPassword and/or email incorrect.\n\t\t\t\t\t\t</InvalidInputNotification>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<NotificationSpacer />\n\t\t\t\t\t)}\n\t\t\t\t\t<EmailInput\n\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\tfocus\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tplaceholder=\"Email\"\n\t\t\t\t\t\tvale={email}\n\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\tsetEmail(e.target.value);\n\t\t\t\t\t\t\tresetAuthError();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tref={input}\n\t\t\t\t\t\tmaxLength=\"64\"\n\t\t\t\t\t/>\n\t\t\t\t\t<PasswordInput\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t\t\tvale={password}\n\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\tsetPassword(e.target.value);\n\t\t\t\t\t\t\tresetAuthError();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tmaxLength=\"128\"\n\t\t\t\t\t/>\n\t\t\t\t\t<SignInBtn type=\"submit\">Sign In</SignInBtn>\n\t\t\t\t</Form>\n\t\t\t\t<P1>Don't have an account?</P1>\n\t\t\t\t<P2 onClick={() => showSignUp()}>SIGN UP</P2>\n\t\t\t</FormContainer>\n\t\t</Container>\n\t);\n}\n\nLogIn.propTypes = {\n\tcloseModal: PropTypes.func,\n\tshowSignUp: PropTypes.func,\n};\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { Container } from '../App';\n\nconst Content = styled.div`\n\tmargin: 0 auto;\n\tpadding-top: 40px;\n\ttext-align: center;\n\tcolor: ${(props) => props.theme.colors.grey};\n\t&& > a,\n\ta:visited {\n\t\tcolor: ${(props) => props.theme.colors.blue};\n\t}\n`;\n\nconst FourOhFour = styled.h1`\n\tfont-size: 160px;\n`;\nconst PageNotFound = styled.p``;\nconst DoesntExist = styled.p``;\n\nexport default function NotFound404() {\n\treturn (\n\t\t<Container>\n\t\t\t<Content>\n\t\t\t\t<FourOhFour>404</FourOhFour>\n\t\t\t\t<PageNotFound>page not found</PageNotFound>\n\t\t\t\t<DoesntExist>the page you requested does not exist</DoesntExist>\n\t\t\t\t<br />\n\t\t\t\t<Link to={'/'}>go back</Link>\n\t\t\t</Content>\n\t\t</Container>\n\t);\n}\n","import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport './App.css';\nimport styled from 'styled-components';\nimport firebase from './firebase';\nimport { GlobalStyle } from './GlobalStyle';\nimport Submit from './pages/Submit';\nimport Home from './pages/Home';\nimport Comments from './pages/Comments';\nimport { PostContext } from './PostContext';\nimport { SORT_OPTIONS } from './utils';\nimport Nav from './layouts/Nav';\nimport Modal from './components/Modal';\nimport LogIn from './components/LogIn';\nimport SignUp from './components/SignUp';\nimport notFound404 from './pages/NotFound404';\n\nexport const Container = styled.div`\n\twidth: 100vw;\n\tmin-height: 100vh;\n\tbackground: ${(props) => props.theme.colors.backgroundBlue};\n\tpadding-top: 48px;\n`;\n\nfunction App() {\n\tconst [user, setUser] = useState({});\n\tconst [users] = useState(null);\n\tconst [modalContent, setModalContent] = useState(null);\n\tconst [posts, setPosts] = useState([]);\n\tconst [sortBy, setSortBy] = useState('TIME_ASC');\n\t//adding this to fetch the needed post comments when clicked\n\tconst [postData, setPostData] = useState();\n\tconst [isAuthErrorShown, setIsAuthErrorShown] = useState(false);\n\n\t//get list of posts from firebase\n\tuseEffect(() => {\n\t\tconst newPosts = [];\n\t\tlet newPostVotes = [];\n\t\tconst subscribe = () => {\n\t\t\tfirebase\n\t\t\t\t.firestore()\n\t\t\t\t.collection('posts')\n\t\t\t\t.orderBy(\n\t\t\t\t\tSORT_OPTIONS[sortBy].column,\n\t\t\t\t\tSORT_OPTIONS[sortBy].direction\n\t\t\t\t)\n\t\t\t\t.orderBy(\n\t\t\t\t\tSORT_OPTIONS[sortBy].column2,\n\t\t\t\t\tSORT_OPTIONS[sortBy].direction2\n\t\t\t\t)\n\t\t\t\t.get()\n\t\t\t\t.then((querySnapshot) => {\n\t\t\t\t\tquerySnapshot.forEach((doc) => {\n\t\t\t\t\t\tconst post = doc.data();\n\t\t\t\t\t\tnewPostVotes.unshift({ vote: post.vote, id: post.id });\n\t\t\t\t\t\tnewPosts.unshift({ id: doc.id, ...post });\n\t\t\t\t\t});\n\t\t\t\t\tsetPosts(newPosts);\n\t\t\t\t})\n\t\t\t\t.catch((err) => console.log(err));\n\t\t};\n\n\t\tsubscribe();\n\n\t\treturn () => subscribe();\n\t}, [sortBy]);\n\n\t//detect user\n\tuseEffect(() => {\n\t\tfirebase.auth().onAuthStateChanged(function (user) {\n\t\t\twindow.user = user;\n\t\t\tif (user) {\n\t\t\t\tfirebase\n\t\t\t\t\t.firestore()\n\t\t\t\t\t.collection('users')\n\t\t\t\t\t.doc(window.user.uid)\n\t\t\t\t\t.get()\n\t\t\t\t\t.then((res) => {\n\t\t\t\t\t\tconst data = res.data();\n\t\t\t\t\t\tsetUser({\n\t\t\t\t\t\t\tusername: window.user.displayName,\n\t\t\t\t\t\t\temail: user.email,\n\t\t\t\t\t\t\tuid: user.uid,\n\t\t\t\t\t\t\tisSignedIn: true,\n\t\t\t\t\t\t\tisAnonymous: false,\n\t\t\t\t\t\t\tposts: data.posts,\n\t\t\t\t\t\t\tpostVotes: data.postVotes,\n\t\t\t\t\t\t\tcommentVotes: data.commentVotes,\n\t\t\t\t\t\t});\n\t\t\t\t\t})\n\t\t\t\t\t.catch((err) => console.log(err));\n\t\t\t}\n\t\t});\n\t}, []);\n\n\tconst viewPostComments = (id) => {\n\t\tconst post = posts.filter((post) => post.id === id);\n\t\tsetPostData(post[0]);\n\t};\n\n\tconst sortPosts = (sortBy) => {\n\t\tsetSortBy(sortBy);\n\t};\n\n\tfunction castPostVote(\n\t\tevent,\n\t\tdirection,\n\t\tid,\n\t\tvote,\n\t\tsetUserVote,\n\t\thomeOrCommentsFlag\n\t) {\n\t\tevent.stopPropagation();\n\n\t\tif (user.isSignedIn) {\n\t\t\tlet newVoteCount;\n\n\t\t\tif (user.postVotes[id] === direction) {\n\t\t\t\t//do nothing - this block is to filter out double votes\n\t\t\t} else {\n\t\t\t\tif (user.postVotes[id] === 'up') {\n\t\t\t\t\t//this block is to vote down after previously voting up\n\t\t\t\t\tnewVoteCount = vote - 2;\n\t\t\t\t} else if (user.postVotes[id] === 'down') {\n\t\t\t\t\t//this block is to vote up after previously voting down\n\t\t\t\t\tnewVoteCount = vote + 2;\n\t\t\t\t} else {\n\t\t\t\t\t//this block gets the direction for first vote\n\t\t\t\t\tdirection === 'up'\n\t\t\t\t\t\t? (newVoteCount = vote + 1)\n\t\t\t\t\t\t: (newVoteCount = vote - 1);\n\t\t\t\t}\n\t\t\t\t// the reason for the homeOrCommentsFlag argument is because different\n\t\t\t\t// state needs to be updated depending on where castPostVote is called from\n\t\t\t\tif (homeOrCommentsFlag === 'home') {\n\t\t\t\t\tconst newPosts = posts.map((post) => {\n\t\t\t\t\t\tif (post.id === id) {\n\t\t\t\t\t\t\tpost.vote = newVoteCount;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn post;\n\t\t\t\t\t});\n\n\t\t\t\t\tsetPosts(newPosts);\n\t\t\t\t} else if (homeOrCommentsFlag === 'comments') {\n\t\t\t\t\tconst updatedPostData = { ...postData };\n\t\t\t\t\tupdatedPostData.vote = newVoteCount;\n\t\t\t\t\tsetPostData(updatedPostData);\n\t\t\t\t}\n\n\t\t\t\tconst newUserVotes = { ...user.postVotes };\n\t\t\t\tnewUserVotes[id] = direction;\n\n\t\t\t\tsetUserVote(direction);\n\t\t\t\tsetUser({ ...user, postVotes: newUserVotes });\n\n\t\t\t\tfirebase\n\t\t\t\t\t.firestore()\n\t\t\t\t\t.collection('users')\n\t\t\t\t\t.doc(user.uid)\n\t\t\t\t\t.update({ postVotes: newUserVotes })\n\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\tconsole.log(err);\n\t\t\t\t\t});\n\n\t\t\t\tfirebase\n\t\t\t\t\t.firestore()\n\t\t\t\t\t.collection('posts')\n\t\t\t\t\t.doc(id)\n\t\t\t\t\t.update({ vote: newVoteCount })\n\t\t\t\t\t.catch((err) => console.log(err));\n\t\t\t}\n\t\t} else {\n\t\t\t//user is not signed in\n\t\t\tsetModalContent('signup');\n\t\t}\n\t}\n\n\tconst displayModal = () => {\n\t\tif (modalContent === 'login') {\n\t\t\treturn (\n\t\t\t\t<Modal closeModal={() => setModalContent(null)}>\n\t\t\t\t\t<LogIn\n\t\t\t\t\t\tshowSignUp={() => setModalContent('signup')}\n\t\t\t\t\t\tcloseModal={() => setModalContent(null)}\n\t\t\t\t\t\tsetModalContent={setModalContent}\n\t\t\t\t\t\tisAuthErrorShown={isAuthErrorShown}\n\t\t\t\t\t\tsetIsAuthErrorShown={setIsAuthErrorShown}\n\t\t\t\t\t/>\n\t\t\t\t</Modal>\n\t\t\t);\n\t\t} else if (modalContent === 'signup') {\n\t\t\treturn (\n\t\t\t\t<Modal closeModal={() => setModalContent(null)}>\n\t\t\t\t\t<SignUp\n\t\t\t\t\t\tshowLogIn={() => setModalContent('login')}\n\t\t\t\t\t\tcloseModal={() => setModalContent(null)}\n\t\t\t\t\t\tsetModalContent={setModalContent}\n\t\t\t\t\t/>\n\t\t\t\t</Modal>\n\t\t\t);\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t};\n\n\treturn (\n\t\t<PostContext.Provider\n\t\t\tvalue={{\n\t\t\t\tposts,\n\t\t\t\tsetPosts,\n\t\t\t\tuser,\n\t\t\t\tsetUser,\n\t\t\t\tusers,\n\t\t\t\tsetModalContent,\n\t\t\t\tcastPostVote,\n\t\t\t}}\n\t\t>\n\t\t\t<Router basename=\"front-page-of-the-front-page\">\n\t\t\t\t<GlobalStyle />\n\t\t\t\t{displayModal()}\n\t\t\t\t<Nav\n\t\t\t\t\topenModal={setModalContent}\n\t\t\t\t\tcloseModal={setModalContent}\n\t\t\t\t\tviewPostComments={viewPostComments}\n\t\t\t\t/>\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route\n\t\t\t\t\t\texact\n\t\t\t\t\t\tpath=\"/\"\n\t\t\t\t\t\tcomponent={(props) => (\n\t\t\t\t\t\t\t<Home\n\t\t\t\t\t\t\t\t{...props}\n\t\t\t\t\t\t\t\tposts={posts}\n\t\t\t\t\t\t\t\tsortPosts={sortPosts}\n\t\t\t\t\t\t\t\tsortBy={sortBy}\n\t\t\t\t\t\t\t\tviewPostComments={viewPostComments}\n\t\t\t\t\t\t\t\tuser={user}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t\t<Route\n\t\t\t\t\t\texact\n\t\t\t\t\t\tpath=\"/submit\"\n\t\t\t\t\t\tcomponent={(props) => <Submit {...props} />}\n\t\t\t\t\t/>\n\t\t\t\t\t<Route\n\t\t\t\t\t\texact\n\t\t\t\t\t\tpath=\"/comments/:post/:id\"\n\t\t\t\t\t\tcomponent={(props) => (\n\t\t\t\t\t\t\t<Comments\n\t\t\t\t\t\t\t\t{...props}\n\t\t\t\t\t\t\t\tsetModalContent={setModalContent}\n\t\t\t\t\t\t\t\tpostData={postData}\n\t\t\t\t\t\t\t\tviewPostComments={viewPostComments}\n\t\t\t\t\t\t\t\tsetPostData={setPostData}\n\t\t\t\t\t\t\t\tsetUser={setUser}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t\t<Route component={notFound404} />\n\t\t\t\t</Switch>\n\t\t\t</Router>\n\t\t</PostContext.Provider>\n\t);\n}\n\nexport default App;\n","import React from 'react';\nimport { ThemeProvider } from 'styled-components';\n\nconst theme = {\n\tcolors: {\n\t\tred: 'rgb(255, 69, 0)',\n\t\tblue: '#0079d3',\n\t\tblack: '#000',\n\t\tgray: '#707070',\n\t\tgrey: '#707070',\n\t\tveryLightGray: 'rgb(230, 230,230)',\n\t\tveryLightGrey: 'rgb(230, 230,230)',\n\t\tlightGray: 'rgb(215, 215, 215)',\n\t\tlightGrey: 'rgb(215, 215, 215)',\n\t\tbackgroundBlue: '#dae0e6',\n\t\tlightBlue: '#3394dc',\n\t},\n\tfont: {\n\t\tfamily: ['\"IBM Plex Sans\", sans-serif'],\n\t\tsize: {\n\t\t\txs: '12px',\n\t\t\ts: '16px',\n\t\t\tm: '18px',\n\t\t\tl: '20px',\n\t\t},\n\t},\n};\n\nconst Theme = ({ children }) => (\n\t<ThemeProvider theme={theme}>{children}</ThemeProvider>\n);\n\nexport default Theme;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport Theme from './theme';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<Theme>\n\t\t\t<App />\n\t\t</Theme>\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}